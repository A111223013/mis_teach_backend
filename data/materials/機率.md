主題：機率

-----

### 1. 核心概念與定義

#### 什麼是機率？

機率是數學中用來量化某個事件發生可能性大小的一個指標。它通常以一個介於 0 到 1 之間（包含 0 和 1）的數值表示，或者用 0% 到 100% 的百分比表示。
*   **$P(A) = 0$**：表示事件 $A$ 幾乎不可能發生。
*   **$P(A) = 1$**：表示事件 $A$ 幾乎必然發生。
*   **$0 < P(A) < 1$**：表示事件 $A$ 有發生的可能性，數值越大，發生的機會越高。

**核心觀念**：機率處理的是不確定性，它提供了一種客觀的方式來衡量隨機現象的結果。

#### 基本術語

在討論機率時，我們需要了解幾個基本概念：

*   **隨機實驗 (Random Experiment)**：一個實驗或過程，其結果在事前無法確定，但在所有可能的結果已知的情況下進行。
    *   **例子**：擲一枚公正的硬幣、擲一個骰子、從一副牌中抽取一張牌。

*   **結果 (Outcome)**：隨機實驗可能發生的單一情況。
    *   **例子**：擲硬幣得到「正面」；擲骰子得到「3」點。

*   **樣本空間 (Sample Space, $\Omega$)**：一個隨機實驗所有可能結果的集合。
    *   **例子**：
        *   擲一枚硬幣：$\Omega = \{正面, 反面\}$
        *   擲一個骰子：$\Omega = \{1, 2, 3, 4, 5, 6\}$
        *   連續擲兩枚硬幣：$\Omega = \{(正面,正面), (正面,反面), (反面,正面), (反面,反面)\}$

*   **事件 (Event, $A$)**：樣本空間的任何一個子集，是我們感興趣的一個或多個結果的集合。
    *   **例子**：
        *   擲一個骰子，「得到偶數」是一個事件 $A = \{2, 4, 6\}$。
        *   連續擲兩枚硬幣，「至少得到一個正面」是一個事件 $B = \{(正面,正面), (正面,反面), (反面,正面)\}$。

*   **基本事件 (Elementary Event)**：只包含一個結果的事件。
    *   **例子**：擲骰子得到「5」點，是一個基本事件 $\{5\}$。

*   **互斥事件 (Mutually Exclusive Events / Disjoint Events)**：如果兩個事件不能同時發生，則稱它們為互斥事件。也就是說，它們的交集為空集。
    *   **符號表示**：$A \cap B = \emptyset$
    *   **例子**：擲一個骰子，「得到偶數」($A = \{2, 4, 6\}$) 與「得到奇數」($B = \{1, 3, 5\}$) 是互斥事件。

*   **獨立事件 (Independent Events)**：如果一個事件的發生不影響另一個事件發生的機率，則稱它們為獨立事件。
    *   **例子**：連續擲兩次硬幣，第一次擲出正面與第二次擲出正面是獨立事件。

-----

### 2. 典型例子與計算方式

#### 古典機率的計算 (Laplace 定義)

當一個隨機實驗的所有基本結果都是**等可能發生**時，事件 $A$ 的機率定義為：
$$ P(A) = \frac{\text{有利於事件 } A \text{ 的結果數量}}{\text{所有可能結果的總數量}} = \frac{|A|}{|\Omega|} $$
這裡 $|A|$ 表示事件 $A$ 包含的基本結果數量，而 $|\Omega|$ 表示樣本空間中所有基本結果的總數量。

**例子**：從一副 52 張撲克牌中隨機抽取一張牌。
*   樣本空間 $|\Omega| = 52$ (所有可能抽出的牌)。
*   **事件 $A$**：抽到紅心 (Heart)。紅心有 13 張，所以 $|A| = 13$。
    *   $P(A) = \frac{13}{52} = \frac{1}{4}$
*   **事件 $B$**：抽到 A (Ace)。A 有 4 張，所以 $|B| = 4$。
    *   $P(B) = \frac{4}{52} = \frac{1}{13}$

#### 機率的加法法則 (Addition Rule)

加法法則用於計算至少一個事件發生的機率，即聯集 $P(A \cup B)$。

*   **若事件 $A$ 和 $B$ 是互斥事件**：
    $$ P(A \cup B) = P(A) + P(B) $$
    **例子**：擲一個骰子，得到「1」點 ($A$) 或「6」點 ($B$) 的機率。
    *   $P(A) = 1/6$, $P(B) = 1/6$
    *   $A$ 和 $B$ 互斥。
    *   $P(A \cup B) = P(A) + P(B) = \frac{1}{6} + \frac{1}{6} = \frac{2}{6} = \frac{1}{3}$

*   **若事件 $A$ 和 $B$ 不是互斥事件** (即它們可能同時發生)：
    $$ P(A \cup B) = P(A) + P(B) - P(A \cap B) $$
    其中 $P(A \cap B)$ 表示事件 $A$ 和 $B$ 同時發生的機率。
    **例子**：從一副 52 張撲克牌中抽取一張牌，抽到紅心 ($A$) 或 A ($B$) 的機率。
    *   $P(A) = 13/52$ (抽到紅心)
    *   $P(B) = 4/52$ (抽到 A)
    *   $P(A \cap B)$：抽到紅心 A 的機率。只有一張紅心 A，所以 $P(A \cap B) = 1/52$。
    *   $P(A \cup B) = \frac{13}{52} + \frac{4}{52} - \frac{1}{52} = \frac{16}{52} = \frac{4}{13}$

#### 機率的乘法法則 (Multiplication Rule) 與條件機率 (Conditional Probability)

乘法法則用於計算多個事件同時發生的機率，即交集 $P(A \cap B)$。

*   **條件機率**：在已知事件 $B$ 已經發生的前提下，事件 $A$ 發生的機率，記作 $P(A|B)$。
    $$ P(A|B) = \frac{P(A \cap B)}{P(B)}, \text{ 且 } P(B) > 0 $$
    同樣地， $P(B|A) = \frac{P(A \cap B)}{P(A)}, \text{ 且 } P(A) > 0$。

*   **由條件機率推導出的乘法法則**：
    $$ P(A \cap B) = P(A|B) \times P(B) $$
    或
    $$ P(A \cap B) = P(B|A) \times P(A) $$
    **例子**：袋中有 5 顆紅球和 3 顆藍球。不放回地連續取出兩顆球。
    *   **事件 $A$**：第一次取出紅球。 $P(A) = \frac{5}{8}$。
    *   **事件 $B$**：第二次取出紅球。
    *   $P(A \cap B)$：兩次都取出紅球的機率。
        *   第一次取出紅球後，袋中剩下 4 顆紅球和 3 顆藍球，共 7 顆球。
        *   第二次再取出紅球的機率，在第一次已取紅球的條件下，為 $P(B|A) = \frac{4}{7}$。
        *   $P(A \cap B) = P(A) \times P(B|A) = \frac{5}{8} \times \frac{4}{7} = \frac{20}{56} = \frac{5}{14}$

*   **若事件 $A$ 和 $B$ 是獨立事件**：
    由於一個事件的發生不影響另一個事件的機率，所以 $P(A|B) = P(A)$ 且 $P(B|A) = P(B)$。
    因此，獨立事件的乘法法則簡化為：
    $$ P(A \cap B) = P(A) \times P(B) $$
    **例子**：連續擲兩次公正的硬幣，兩次都出現正面的機率。
    *   **事件 $A$**：第一次擲出正面。 $P(A) = 1/2$。
    *   **事件 $B$**：第二次擲出正面。 $P(B) = 1/2$。
    *   $A$ 和 $B$ 是獨立事件。
    *   $P(A \cap B) = P(A) \times P(B) = \frac{1}{2} \times \frac{1}{2} = \frac{1}{4}$

-----

### 3. 與相鄰概念的關聯

#### 組合學 (Combinatorics)

在許多機率問題中，計算有利事件數 $|A|$ 和樣本空間總數 $|\Omega|$ 往往需要用到組合學的知識，特別是排列 (Permutation) 和組合 (Combination)。

*   **排列 ($P_n^k$ 或 $P(n,k)$)**：從 $n$ 個不同元素中取出 $k$ 個元素，並考慮排列順序的方法數。
    $$ P_n^k = \frac{n!}{(n-k)!} $$
*   **組合 ($C_n^k$ 或 $\binom{n}{k}$)**：從 $n$ 個不同元素中取出 $k$ 個元素，不考慮排列順序的方法數。
    $$ C_n^k = \frac{n!}{k!(n-k)!} $$

**關聯**：機率問題常常可以歸結為「從總數中選取某些項」或「安排某些項的順序」，這正是組合學的核心。透過排列組合，我們可以準確地計算出古典機率定義中的分子和分母。

**例子**：從 10 人中選出 3 人組成一個委員會。
*   總可能結果 (不考慮順序) $|\Omega| = C_{10}^3 = \frac{10!}{3!7!} = \frac{10 \times 9 \times 8}{3 \times 2 \times 1} = 120$ 種選法。
*   如果要求這 3 人中必須包含特定兩人 $X, Y$，則我們只需從剩下的 8 人中再選出 1 人。有利事件數 $|A| = C_8^1 = 8$。
*   機率 $P(A) = \frac{8}{120} = \frac{1}{15}$。

#### 統計學 (Statistics)

機率是統計學的基石。統計學利用機率理論來分析數據、做出推論和預測。

*   **描述性統計 (Descriptive Statistics)**：概括和組織數據的特徵。
*   **推論性統計 (Inferential Statistics)**：利用樣本數據對總體進行推斷。機率在推論性統計中扮演核心角色，因為它量化了推斷的不確定性，例如假設檢定中的 p-值，或信賴區間的信心水準。

**關聯**：機率提供了理解隨機變數、機率分佈、期望值、變異數等概念的數學框架。這些概念是統計模型和數據分析的基礎。例如，一個隨機事件的機率分佈描述了所有可能結果的機率，而統計學則透過分析實際數據來估計這些機率分佈的參數。

-----

### 4. 進階內容：貝氏定理 (Bayes' Theorem)

貝氏定理是一個強大的工具，用於根據新的證據或資訊來更新事件的機率。它將**先驗機率 (Prior Probability)**（在得到證據前對事件的信念）轉換為**後驗機率 (Posterior Probability)**（在得到證據後對事件的信念）。

**定理公式**：
$$ P(A|B) = \frac{P(B|A)P(A)}{P(B)} $$
其中：
*   $P(A|B)$：後驗機率，在事件 $B$ 發生後，事件 $A$ 發生的機率。
*   $P(B|A)$：可能性 (Likelihood)，在事件 $A$ 發生後，事件 $B$ 發生的機率。
*   $P(A)$：先驗機率，事件 $A$ 獨立發生的機率。
*   $P(B)$：邊緣機率 (Marginal Probability)，事件 $B$ 獨立發生的機率。通常可以寫成 $P(B) = P(B|A)P(A) + P(B|A^c)P(A^c)$，其中 $A^c$ 是 $A$ 的補集。

**核心觀念**：貝氏定理的精髓在於「資訊更新」。當有新的證據出現時，我們可以合理地修正我們對某事件發生可能性的判斷。

**例子**：
假設某種罕見疾病的發病率為 1/1000 (0.1%)。有一種檢測方法，準確率很高：
*   如果一個人確實患有此病，檢測呈陽性的機率為 99% ($P(\text{陽性}|\text{患病}) = 0.99$)。
*   如果一個人沒有患病，檢測呈陰性的機率為 95% ($P(\text{陰性}|\text{未患病}) = 0.95$)。這意味著檢測呈偽陽性的機率為 5% ($P(\text{陽性}|\text{未患病}) = 0.05$)。

現在，某人檢測結果呈陽性。請問這個人真的患有此病的機率是多少？

*   **事件 $D$**：患病。 $P(D) = 0.001$。
*   **事件 $D^c$**：未患病。 $P(D^c) = 1 - P(D) = 0.999$。
*   **事件 $T^+$**：檢測結果呈陽性。

已知條件：
*   $P(T^+|D) = 0.99$
*   $P(T^+|D^c) = 0.05$

我們要求的是 $P(D|T^+)$，即在檢測呈陽性後，確實患病的機率。
根據貝氏定理：
$$ P(D|T^+) = \frac{P(T^+|D)P(D)}{P(T^+)} $$
首先計算 $P(T^+)$：
$P(T^+) = P(T^+|D)P(D) + P(T^+|D^c)P(D^c)$
$P(T^+) = (0.99 \times 0.001) + (0.05 \times 0.999)$
$P(T^+) = 0.00099 + 0.04995 = 0.05094$

現在代入貝氏定理：
$P(D|T^+) = \frac{0.99 \times 0.001}{0.05094} = \frac{0.00099}{0.05094} \approx 0.0194$

**結果**：即使檢測結果呈陽性，這個人真正患病的機率也只有約 1.94%。這個例子揭示了在低發病率情況下，檢測結果需要結合先驗機率來解釋的重要性。

-----

### 5. 常見錯誤與澄清

#### 誤解「獨立事件」與「互斥事件」

這是機率學中最常見的混淆。兩者是截然不同的概念。

*   **互斥事件 (Mutually Exclusive Events)**：它們不能同時發生。如果事件 $A$ 和 $B$ 是互斥的，則 $P(A \cap B) = 0$。
    *   **例子**：擲骰子得到偶數和得到奇數是互斥的。
*   **獨立事件 (Independent Events)**：一個事件的發生不影響另一個事件的機率。如果事件 $A$ 和 $B$ 是獨立的，則 $P(A \cap B) = P(A)P(B)$。
    *   **例子**：連續擲兩次硬幣，第一次是正面和第二次是正面是獨立的。

**澄清**：
如果兩個事件 $A$ 和 $B$ 是互斥的，並且它們的機率都大於 0 ($P(A)>0$ 且 $P(B)>0$)，那麼它們絕對不可能是獨立事件。
原因：如果它們是互斥的，$P(A \cap B) = 0$。但如果它們是獨立的，$P(A \cap B) = P(A)P(B)$。由於 $P(A)>0$ 且 $P(B)>0$，則 $P(A)P(B)$ 必然大於 0。這與 $P(A \cap B) = 0$ 矛盾。

#### 賭徒謬誤 (Gambler's Fallacy)

**錯誤觀念**：認為未來獨立事件的結果會受到過去獨立事件結果的影響，以平衡長期趨勢。
**澄清**：對於一系列獨立事件（例如擲硬幣、擲骰子、輪盤賭），每次實驗的結果都是獨立的，不會受到之前結果的影響。即使連續擲出 10 次正面，下一次擲出正面的機率仍然是 1/2。
**例子**：賭徒在輪盤賭中看到紅色連續出現了 5 次，便認為下一次出現黑色的機率會大大增加。這是錯誤的，因為每次旋轉都是獨立的，紅色或黑色出現的機率每次都是 18/38 (約 47.37%)。

#### 混淆「條件機率」的方向

**錯誤觀念**：將 $P(A|B)$ 和 $P(B|A)$ 視為相同。
**澄清**：$P(A|B)$ 是在已知 $B$ 發生的情況下 $A$ 發生的機率；而 $P(B|A)$ 是在已知 $A$ 發生的情況下 $B$ 發生的機率。這兩者通常是不相等的。
**例子**：
*   $P(\text{發燒}|\text{感冒})$：感冒的人發燒的機率（很高）。
*   $P(\text{感冒}|\text{發燒})$：發燒的人感冒的機率（發燒可能由其他原因引起，如中暑，所以這個機率相對較低）。
這兩個機率顯然不同。貝氏定理正是處理這種反向條件機率轉換的工具。

-----

### 6. 小練習（附詳解）

#### 小練習 1：撲克牌與機率計算

從一副洗勻的 52 張撲克牌中隨機抽取一張牌。
1.  抽到梅花 (Club) 或 K (King) 的機率是多少？
2.  抽到紅心 (Heart) 且是數字牌 (2 到 10) 的機率是多少？

**詳解**

**1. 抽到梅花或 K 的機率**

*   **定義事件**：
    *   事件 $A$：抽到梅花。一副牌有 13 張梅花。$P(A) = \frac{13}{52}$。
    *   事件 $B$：抽到 K。一副牌有 4 張 K。$P(B) = \frac{4}{52}$。
*   **判斷事件關係**：
    *   事件 $A$ 和 $B$ 是否互斥？否，因為有一張梅花 K，它既是梅花也是 K。
    *   $A \cap B$：抽到梅花 K。只有 1 張梅花 K。$P(A \cap B) = \frac{1}{52}$。
*   **應用加法法則**：
    *   由於 $A$ 和 $B$ 不是互斥事件，我們使用公式：$P(A \cup B) = P(A) + P(B) - P(A \cap B)$
    *   $P(A \cup B) = \frac{13}{52} + \frac{4}{52} - \frac{1}{52} = \frac{13 + 4 - 1}{52} = \frac{16}{52}$
*   **簡化結果**：
    *   $P(A \cup B) = \frac{16}{52} = \frac{4}{13}$

答：抽到梅花或 K 的機率是 $\frac{4}{13}$。

**2. 抽到紅心且是數字牌的機率**

*   **定義事件**：
    *   事件 $C$：抽到紅心。一副牌有 13 張紅心。
    *   事件 $D$：抽到數字牌 (2 到 10)。每種花色有 9 張數字牌，所以總共有 $9 \times 4 = 36$ 張數字牌。
*   **判斷事件關係**：
    *   題目要求的是「且」，即同時發生，所以是求交集 $P(C \cap D)$。
*   **直接計算有利事件數**：
    *   有利於 $C \cap D$ 的結果：紅心花色中的數字牌 (2, 3, 4, 5, 6, 7, 8, 9, 10)。
    *   這些牌共有 9 張。
*   **應用古典機率公式**：
    *   有利事件數 $|C \cap D| = 9$。
    *   樣本空間總數 $|\Omega| = 52$。
    *   $P(C \cap D) = \frac{9}{52}$

答：抽到紅心且是數字牌的機率是 $\frac{9}{52}$。

-----

#### 小練習 2：袋中取球與條件機率

一個袋子裡有 6 顆紅球和 4 顆藍球。我們不放回地連續從袋中取出兩顆球。
1.  兩次都取出紅球的機率是多少？
2.  已知第二次取出的是紅球，那麼第一次取出紅球的機率是多少？

**詳解**

**1. 兩次都取出紅球的機率**

*   **定義事件**：
    *   事件 $R_1$：第一次取出紅球。
    *   事件 $R_2$：第二次取出紅球。
*   **計算第一次取球的機率**：
    *   袋中總球數 $6 + 4 = 10$ 顆。紅球有 6 顆。
    *   $P(R_1) = \frac{6}{10}$。
*   **計算第二次取球的條件機率**：
    *   第一次取出紅球後，袋中剩下 9 顆球 (5 顆紅球，4 顆藍球)。
    *   $P(R_2|R_1)$：在第一次取出紅球的條件下，第二次取出紅球的機率。
    *   $P(R_2|R_1) = \frac{5}{9}$。
*   **應用乘法法則**：
    *   兩次都取出紅球的機率為 $P(R_1 \cap R_2) = P(R_1) \times P(R_2|R_1)$。
    *   $P(R_1 \cap R_2) = \frac{6}{10} \times \frac{5}{9} = \frac{30}{90} = \frac{1}{3}$。

答：兩次都取出紅球的機率是 $\frac{1}{3}$。

**2. 已知第二次取出的是紅球，那麼第一次取出紅球的機率**

*   **定義事件**：
    *   事件 $R_1$：第一次取出紅球。
    *   事件 $R_2$：第二次取出紅球。
*   **問題目標**：計算 $P(R_1|R_2)$。
*   **應用貝氏定理** 或 **條件機率定義**：
    *   $P(R_1|R_2) = \frac{P(R_1 \cap R_2)}{P(R_2)}$
*   **計算 $P(R_1 \cap R_2)$**：
    *   已在第 1 題中算出 $P(R_1 \cap R_2) = \frac{1}{3}$。
*   **計算 $P(R_2)$**：
    *   第二次取出紅球，有兩種可能：
        *   (1) 第一次紅球，第二次紅球 ($R_1 \cap R_2$)
        *   (2) 第一次藍球，第二次紅球 ($B_1 \cap R_2$)
    *   $P(R_2) = P(R_1 \cap R_2) + P(B_1 \cap R_2)$
    *   $P(B_1) = \frac{4}{10}$ (第一次取出藍球)
    *   $P(R_2|B_1) = \frac{6}{9}$ (第一次取出藍球後，剩下 6 紅球 3 藍球，共 9 顆)
    *   $P(B_1 \cap R_2) = P(B_1) \times P(R_2|B_1) = \frac{4}{10} \times \frac{6}{9} = \frac{24}{90} = \frac{4}{15}$
    *   $P(R_2) = \frac{1}{3} + \frac{4}{15} = \frac{5}{15} + \frac{4}{15} = \frac{9}{15} = \frac{3}{5}$。
*   **計算 $P(R_1|R_2)$**：
    *   $P(R_1|R_2) = \frac{P(R_1 \cap R_2)}{P(R_2)} = \frac{1/3}{3/5} = \frac{1}{3} \times \frac{5}{3} = \frac{5}{9}$。

答：已知第二次取出的是紅球，那麼第一次取出紅球的機率是 $\frac{5}{9}$。

-----

### 7. 延伸閱讀/參考

*   **教科書**：
    *   《機率論與數理統計》 (Probability and Statistics) - 作者：Ross, S. M.
    *   《深入淺出統計學》(Head First Statistics) - 提供更直觀、圖形化的學習方式。
*   **線上課程**：
    *   Coursera/edX：許多大學提供機率與統計的基礎課程。
    *   可汗學院 (Khan Academy)：提供免費的機率基礎教學影片與練習。
*   **實用應用**：
    *   **風險管理**：金融、保險領域常用機率來評估投資風險、保險賠付機率。
    *   **品質管制**：工業生產中利用機率抽樣和統計分析來監控產品品質。
    *   **醫學診斷**：利用貝氏定理評估疾病診斷的準確性。
    *   **人工智慧與機器學習**：機率是許多機器學習模型（如樸素貝氏分類器、馬可夫鏈）的數學基礎。