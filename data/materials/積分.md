# 積分 (Integration)

積分是微積分學中的兩大核心概念之一，與微分互為逆運算。它不僅用於計算函數的反導函數，更在幾何上代表著曲線下的面積，在物理學和工程學中也有著廣泛的應用，例如計算物體的總位移、體積、甚至機率等。

-----

## 1. 核心概念與定義

### 什麼是積分？
積分可以從兩個主要角度來理解：
1.  **反導函數 (Antiderivative) 或不定積分 (Indefinite Integral)：** 尋找一個函數，其導函數為給定的函數。如果 $F'(x) = f(x)$，那麼 $F(x)$ 就是 $f(x)$ 的一個反導函數。由於常數的導函數為零，所以一個函數的反導函數不是唯一的，它們之間相差一個常數。
2.  **定積分 (Definite Integral)：** 計算一個函數在特定區間內曲線下與x軸所圍成的「有向面積」。

### 不定積分 (Indefinite Integral)

**定義：** 如果 $F'(x) = f(x)$，則 $F(x)$ 稱為 $f(x)$ 的一個反導函數。我們將 $f(x)$ 的所有反導函數集合表示為不定積分，記作：
$$ \int f(x) \,dx = F(x) + C $$
其中：
*   $\int$ 是積分符號。
*   $f(x)$ 是被積函數 (integrand)。
*   $dx$ 表示積分變數是 $x$。
*   $F(x)$ 是 $f(x)$ 的一個反導函數。
*   $C$ 是積分常數 (constant of integration)，代表了所有可能的反導函數。

**核心觀念：** 不定積分的結果是一個「函數族」，因為 $C$ 可以是任何實數。

### 定積分 (Definite Integral)

**定義：** 對於在區間 $[a, b]$ 上定義的函數 $f(x)$，從 $a$ 到 $b$ 的定積分記作：
$$ \int_a^b f(x) \,dx $$
其中：
*   $a$ 是積分下限 (lower limit)。
*   $b$ 是積分上限 (upper limit)。

**核心觀念：** 定積分的結果是一個「數值」，它代表了 $f(x)$ 在 $x=a$ 到 $x=b$ 區間內與x軸所圍成的有向面積。如果函數曲線在x軸上方，面積為正；如果在x軸下方，面積為負。

-----

## 2. 典型例子與基本公式

### 不定積分的基本公式

以下是一些常見函數的不定積分：

1.  **冪次函數 (Power Rule)：**
    $$ \int x^n \,dx = \frac{x^{n+1}}{n+1} + C \quad (\text{其中 } n \neq -1) $$
2.  **特殊情況 ($n=-1$)：**
    $$ \int \frac{1}{x} \,dx = \ln|x| + C $$
    （使用絕對值 $|x|$ 是為了確保在 $x<0$ 時 $\ln x$ 仍然有定義）
3.  **指數函數：**
    $$ \int e^x \,dx = e^x + C $$
    $$ \int a^x \,dx = \frac{a^x}{\ln a} + C \quad (\text{其中 } a > 0, a \neq 1) $$
4.  **三角函數：**
    $$ \int \sin x \,dx = -\cos x + C $$
    $$ \int \cos x \,dx = \sin x + C $$
    $$ \int \sec^2 x \,dx = \tan x + C $$
    $$ \int \csc^2 x \,dx = -\cot x + C $$
    $$ \int \sec x \tan x \,dx = \sec x + C $$
    $$ \int \csc x \cot x \,dx = -\csc x + C $$

5.  **常數倍與和差法則 (Linearity)：**
    $$ \int k \cdot f(x) \,dx = k \int f(x) \,dx $$
    $$ \int [f(x) \pm g(x)] \,dx = \int f(x) \,dx \pm \int g(x) \,dx $$

### 定積分與微積分基本定理 (Fundamental Theorem of Calculus)

定積分的計算主要依賴於微積分基本定理。
**微積分基本定理 (第二部分)：** 如果 $f(x)$ 在區間 $[a, b]$ 上是連續的，且 $F(x)$ 是 $f(x)$ 的任意一個反導函數（即 $F'(x) = f(x)$），則：
$$ \int_a^b f(x) \,dx = F(b) - F(a) $$
我們通常將 $F(b) - F(a)$ 簡記為 $[F(x)]_a^b$。

**推導/理解：**
微積分基本定理建立起了不定積分和定積分之間的橋樑。它告訴我們，要計算曲線下的面積，我們只需要找到被積函數的反導函數，然後將積分上限和下限的值代入，再相減即可。這比用黎曼和的極限方法計算要高效得多。

**例子：計算定積分**
計算 $\int_1^2 x^2 \,dx$。

**步驟：**
1.  **找到反導函數：** 根據冪次法則， $x^2$ 的反導函數是 $\frac{x^{2+1}}{2+1} = \frac{x^3}{3}$。我們不需要考慮 $C$，因為 $C$ 在相減時會抵消掉。
2.  **應用微積分基本定理：**
    $$ \int_1^2 x^2 \,dx = \left[ \frac{x^3}{3} \right]_1^2 $$
    $$ = \frac{2^3}{3} - \frac{1^3}{3} $$
    $$ = \frac{8}{3} - \frac{1}{3} $$
    $$ = \frac{7}{3} $$
這個數值 $7/3$ 代表了函數 $y=x^2$ 在 $x=1$ 到 $x=2$ 之間與x軸所圍成的面積。

-----

## 3. 與相鄰概念的關聯

### 積分與微分的關係

**互逆運算：** 積分和微分是互逆的運算。
*   如果你對一個函數進行微分，然後再對結果進行積分，你會回到原始函數（加上一個積分常數 $C$）。
    $$ \int \left( \frac{d}{dx} f(x) \right) \,dx = f(x) + C $$
*   如果你對一個函數進行積分，然後再對結果進行微分，你會回到原始函數。
    $$ \frac{d}{dx} \left( \int f(x) \,dx \right) = f(x) $$

**微積分基本定理的另一部分：**
**微積分基本定理 (第一部分)：** 如果 $f(t)$ 在區間 $[a, b]$ 上是連續的，定義一個函數 $G(x) = \int_a^x f(t) \,dt$，則 $G'(x) = f(x)$。
這明確指出定積分的導函數就是被積函數本身，再次強調了積分與微分的互逆關係。

**核心思想：**
*   **微分** 關注的是「變化率」或「斜率」。
*   **積分** 關注的是「累積量」或「總和」。
例如，如果速度是位移的微分，那麼位移就是速度的積分。

### 積分與面積的關係

定積分起源於計算平面圖形的面積。歷史上，古希臘數學家已經嘗試過用「窮竭法」來計算面積。定積分的嚴格定義是透過**黎曼和 (Riemann Sums)** 的極限來實現的：
$$ \int_a^b f(x) \,dx = \lim_{n \to \infty} \sum_{i=1}^n f(x_i^*) \Delta x $$
其中，$[a, b]$ 被分成 $n$ 個小區間，$\Delta x$ 是每個小區間的寬度，$x_i^*$ 是每個小區間內的一個取樣點。當小區間的數量趨於無限大時，這些矩形面積的總和就精確地等於曲線下的面積。微積分基本定理提供了一種更便捷的計算方式。

-----

## 4. 進階內容：變數變換法 (Substitution Method)

變數變換法，又稱 $u$-代換法，是一種重要的積分技巧，用於簡化被積函數，使其符合基本積分公式。它的核心思想是利用鏈式法則的逆運算。

**原理：**
若我們有積分 $\int f(g(x)) g'(x) \,dx$，令 $u = g(x)$，則 $du = g'(x) \,dx$。
原積分就變為：
$$ \int f(u) \,du $$
這通常會將複雜的積分變為可以直接計算的簡單形式。

**例子：**
計算 $\int (2x+1)^3 \,dx$。

**步驟：**
1.  **選擇代換變數 $u$：** 令 $u = 2x+1$。
2.  **計算 $du$：** 對 $u$ 關於 $x$ 微分，得到 $\frac{du}{dx} = 2$，因此 $du = 2 \,dx$。
3.  **轉換積分：** 我們需要將 $dx$ 換成 $du$。從 $du = 2 \,dx$ 得到 $dx = \frac{1}{2} du$。
    將 $u$ 和 $dx$ 代入原積分：
    $$ \int u^3 \left( \frac{1}{2} du \right) $$
    $$ = \frac{1}{2} \int u^3 \,du $$
4.  **積分：** 使用冪次法則對 $u$ 進行積分：
    $$ = \frac{1}{2} \left( \frac{u^{3+1}}{3+1} \right) + C $$
    $$ = \frac{1}{2} \cdot \frac{u^4}{4} + C $$
    $$ = \frac{u^4}{8} + C $$
5.  **將 $u$ 替換回 $x$：** 將 $u = 2x+1$ 代回：
    $$ = \frac{(2x+1)^4}{8} + C $$

**定積分的變數變換：**
如果進行定積分的變數變換，除了變數本身，積分上下限也需要跟著改變：
$$ \int_a^b f(g(x)) g'(x) \,dx = \int_{g(a)}^{g(b)} f(u) \,du $$
其中 $u = g(x)$。

-----

## 5. 常見錯誤與澄清

### 1. 忘記積分常數 $C$
**錯誤：** 在不定積分的結果中漏寫 $+C$。
**澄清：** 不定積分代表的是一個函數族，所有反導函數都相差一個常數。如果缺少 $+C$，答案在數學上是不完整的。定積分的結果是一個確定的數值，不需要 $+C$。

### 2. 混淆不定積分與定積分
**錯誤：**
*   將定積分的結果寫成帶有 $C$ 的函數。
*   將不定積分的結果寫成一個數值。
**澄清：** 不定積分的結果是一個函數（或函數族），定積分的結果是一個數值。它們的概念和應用場景是不同的。

### 3. 對 $1/x$ 積分的錯誤使用冪次法則
**錯誤：** 將 $\int \frac{1}{x} \,dx$ 錯誤地計算為 $\frac{x^{(-1)+1}}{(-1)+1} = \frac{x^0}{0}$。
**澄清：** 冪次法則 $\int x^n \,dx = \frac{x^{n+1}}{n+1}$ 對於 $n=-1$ 是不適用的。正確的公式是 $\int \frac{1}{x} \,dx = \ln|x| + C$。這是因為 $\ln|x|$ 的導函數是 $1/x$。

### 4. 錯誤理解定積分的幾何意義
**錯誤：** 認為定積分總是代表一個「正」面積。
**澄清：** 定積分代表的是「有向面積」。如果函數曲線在積分區間的某部分位於x軸下方，該部分的定積分值將是負的。整個定積分的結果是正面積與負面積的代數和。

-----

## 6. 小練習（附詳解）

### 練習 1：不定積分

計算 $\int (3x^2 - 4x + \frac{5}{x^2} + e^x) \,dx$。

**詳解：**
1.  **拆分積分並調整項：**
    $$ \int (3x^2 - 4x + 5x^{-2} + e^x) \,dx $$
2.  **應用線性法則：**
    $$ = 3 \int x^2 \,dx - 4 \int x \,dx + 5 \int x^{-2} \,dx + \int e^x \,dx $$
3.  **對每一項應用基本公式：**
    *   $3 \int x^2 \,dx = 3 \left( \frac{x^{2+1}}{2+1} \right) = 3 \cdot \frac{x^3}{3} = x^3$
    *   $-4 \int x \,dx = -4 \left( \frac{x^{1+1}}{1+1} \right) = -4 \cdot \frac{x^2}{2} = -2x^2$
    *   $5 \int x^{-2} \,dx = 5 \left( \frac{x^{-2+1}}{-2+1} \right) = 5 \cdot \frac{x^{-1}}{-1} = -\frac{5}{x}$
    *   $\int e^x \,dx = e^x$
4.  **組合結果並加上積分常數 $C$：**
    $$ = x^3 - 2x^2 - \frac{5}{x} + e^x + C $$

### 練習 2：定積分

計算 $\int_0^{\pi/2} (\sin x + \cos x) \,dx$。

**詳解：**
1.  **找到被積函數的反導函數：**
    $$ \int (\sin x + \cos x) \,dx $$
    *   $\int \sin x \,dx = -\cos x$
    *   $\int \cos x \,dx = \sin x$
    所以，反導函數為 $F(x) = -\cos x + \sin x$。
2.  **應用微積分基本定理：**
    $$ \int_0^{\pi/2} (\sin x + \cos x) \,dx = [-\cos x + \sin x]_0^{\pi/2} $$
3.  **代入上下限並相減：**
    $$ = (-\cos(\pi/2) + \sin(\pi/2)) - (-\cos(0) + \sin(0)) $$
    $$ = (-0 + 1) - (-1 + 0) $$
    $$ = 1 - (-1) $$
    $$ = 2 $$

### 練習 3：變數變換法 (定積分)

計算 $\int_0^1 x \sqrt{1-x^2} \,dx$。

**詳解：**
1.  **選擇代換變數 $u$：** 令 $u = 1-x^2$。
2.  **計算 $du$：** 對 $u$ 關於 $x$ 微分，得到 $\frac{du}{dx} = -2x$，因此 $du = -2x \,dx$。
3.  **調整 $dx$：** 從 $du = -2x \,dx$ 得到 $x \,dx = -\frac{1}{2} du$。
4.  **改變積分上下限：**
    *   當 $x=0$ 時，$u = 1-(0)^2 = 1$。
    *   當 $x=1$ 時，$u = 1-(1)^2 = 0$。
5.  **轉換積分：**
    將 $u$、$x \,dx$ 和新的上下限代入原積分：
    $$ \int_1^0 \sqrt{u} \left( -\frac{1}{2} du \right) $$
    $$ = -\frac{1}{2} \int_1^0 u^{1/2} \,du $$
6.  **利用定積分性質交換上下限 (可選，但讓計算更直觀)：**
    $$ = \frac{1}{2} \int_0^1 u^{1/2} \,du $$
7.  **積分：**
    $$ = \frac{1}{2} \left[ \frac{u^{1/2+1}}{1/2+1} \right]_0^1 $$
    $$ = \frac{1}{2} \left[ \frac{u^{3/2}}{3/2} \right]_0^1 $$
    $$ = \frac{1}{2} \left[ \frac{2}{3} u^{3/2} \right]_0^1 $$
    $$ = \left[ \frac{1}{3} u^{3/2} \right]_0^1 $$
8.  **代入上下限並相減：**
    $$ = \frac{1}{3} (1)^{3/2} - \frac{1}{3} (0)^{3/2} $$
    $$ = \frac{1}{3} - 0 $$
    $$ = \frac{1}{3} $$

-----

## 7. 延伸閱讀/參考

*   **微積分教科書：**
    *   Stewart, J. (2016). *Calculus: Early Transcendentals*. Cengage Learning. (普遍使用的經典教材)
    *   Thomas, G. B., Weir, M. D., & Hass, J. (2014). *Thomas' Calculus*. Pearson.
*   **線上學習資源：**
    *   **Khan Academy (可汗學院)：** 提供從基礎到進階的微積分課程，包含大量練習題和影片解說。
        *   [https://www.khanacademy.org/math/ap-calculus-ab/ab-integration](https://www.khanacademy.org/math/ap-calculus-ab/ab-integration)
    *   **3Blue1Brown (YouTube 頻道)：** 提供視覺化且深入淺出的微積分概念解釋。
        *   搜尋 "Essence of Calculus - Integration"
*   **相關數學概念：**
    *   **微分：** 了解微分是理解積分的基礎。
    *   **黎曼和：** 深入探討定積分的嚴格定義。
    *   **積分技巧：** 除了變數變換法，還有分部積分法、部分分式積分法、三角代換法等。