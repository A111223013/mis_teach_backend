### 向量空間與子空間

這章將引導你進入線性代數的核心概念：**向量空間**。向量空間是所有向量運算的抽象基礎，提供了一個廣泛的框架來理解和分析各種數學對象，而不僅僅是我們熟悉的幾何向量。理解向量空間能讓我們將對線性系統、微分方程、函數空間等的研究統一化。隨後，我們將探討**子空間**，它是向量空間內部的一個特殊結構，對於理解線性系統的解集結構至關重要。

-----

#### 1. 核心概念：向量空間 (Vector Space)

**定義/核心觀念**
一個定義在**場 (Field)** $F$ 上的**向量空間 (Vector Space)** $V$ 是一個非空集合，其元素稱為**向量**。在這個集合上定義了兩種操作：
1.  **向量加法 (Vector Addition)**：對於 $V$ 中的任意兩個向量 $\mathbf{u}, \mathbf{v}$，其和 $\mathbf{u} + \mathbf{v}$ 也是 $V$ 中的一個向量 (即加法在 $V$ 上是**封閉**的)。
2.  **純量乘法 (Scalar Multiplication)**：對於 $F$ 中的任意一個純量 $c$ 和 $V$ 中的任意一個向量 $\mathbf{v}$，其積 $c\mathbf{v}$ 也是 $V$ 中的一個向量 (即純量乘法在 $V$ 上是**封閉**的)。

這兩種運算必須滿足以下八條公理 (對於任意 $\mathbf{u}, \mathbf{v}, \mathbf{w} \in V$ 和任意 $c, d \in F$)：

**向量加法公理：**
1.  **交換律 (Commutativity)**：$\mathbf{u} + \mathbf{v} = \mathbf{v} + \mathbf{u}$。
2.  **結合律 (Associativity)**：$(\mathbf{u} + \mathbf{v}) + \mathbf{w} = \mathbf{u} + (\mathbf{v} + \mathbf{w})$。
3.  **零向量存在性 (Existence of zero vector)**：存在一個零向量 $\mathbf{0} \in V$，使得對於所有 $\mathbf{u} \in V$，有 $\mathbf{u} + \mathbf{0} = \mathbf{u}$。
4.  **加法反元素存在性 (Existence of additive inverse)**：對於每一個 $\mathbf{u} \in V$，存在一個向量 $-\mathbf{u} \in V$，使得 $\mathbf{u} + (-\mathbf{u}) = \mathbf{0}$。

**純量乘法公理：**
5.  **純量乘法結合律 (Associativity of scalar multiplication)**：$c(d\mathbf{u}) = (cd)\mathbf{u}$。
6.  **分配律 1 (Distributivity 1)**：$c(\mathbf{u} + \mathbf{v}) = c\mathbf{u} + c\mathbf{v}$。
7.  **分配律 2 (Distributivity 2)**：$(c + d)\mathbf{u} = c\mathbf{u} + d\mathbf{u}$。
8.  **單位純量存在性 (Existence of multiplicative identity)**：$1\mathbf{u} = \mathbf{u}$，其中 $1$ 是場 $F$ 中的乘法單位元素。

**典型例子與轉換/推導**
*   **歐幾里得空間 $\mathbb{R}^n$**：最常見的例子。向量是 $n$ 個實數的有序組 $\begin{pmatrix} x_1 \\ \vdots \\ x_n \end{pmatrix}$。加法和純量乘法是分量式的。場 $F = \mathbb{R}$。
*   **多項式空間 $P_n$**：所有次數小於或等於 $n$ 的實係數多項式組成的集合，即 $\{ a_nx^n + \dots + a_1x + a_0 \mid a_i \in \mathbb{R} \}$。加法是多項式的加法，純量乘法是將純量乘到多項式的所有係數上。場 $F = \mathbb{R}$。
*   **矩陣空間 $M_{m \times n}(F)$**：所有 $m \times n$ 階矩陣組成的集合，其元素來自場 $F$。加法是矩陣的加法，純量乘法是矩陣的純量乘法。
*   **函數空間 $C([a,b])$**：定義在閉區間 $[a,b]$ 上的所有連續實值函數組成的集合。加法和純量乘法是點對點定義的。場 $F = \mathbb{R}$。

**與相鄰概念的關聯**
*   **場 (Field)**：向量空間的定義依賴於一個場 $F$，純量就是來自這個場的元素。場提供了純量加法、乘法、單位元、逆元等運算，這些是向量空間公理中純量運算的基礎。最常見的場是實數 $\mathbb{R}$ 和複數 $\mathbb{C}$。
*   **群 (Group)**：向量加法公理 (公理 1-4) 說明了向量空間 $V$ 在向量加法下是一個阿貝爾群 (Abelian Group)。零向量是單位元，加法反元素是逆元。
*   **線性組合 (Linear Combination)**：向量空間允許我們形成向量的線性組合。這是許多線性代數概念 (如生成空間、線性獨立、基底) 的基石。

-----

#### 2. 核心概念：子空間 (Subspace)

**定義/核心觀念**
令 $V$ 是一個定義在場 $F$ 上的向量空間。一個非空子集 $W \subseteq V$ 被稱為 $V$ 的**子空間 (Subspace)**，如果 $W$ 本身在 $V$ 上定義的相同向量加法和純量乘法下也是一個向量空間。

要證明一個非空子集 $W$ 是向量空間 $V$ 的子空間，我們不需要逐一驗證向量空間的八條公理，因為許多性質會從 $V$ 繼承過來。我們只需驗證以下三條準則：

**子空間判斷準則 (Subspace Test)：**
1.  **零向量存在性 (Contains the zero vector)**：$\mathbf{0} \in W$。
2.  **加法封閉性 (Closure under addition)**：對於任意 $\mathbf{u}, \mathbf{v} \in W$，其和 $\mathbf{u} + \mathbf{v}$ 也在 $W$ 中。
3.  **純量乘法封閉性 (Closure under scalar multiplication)**：對於任意純量 $c \in F$ 和任意向量 $\mathbf{u} \in W$，其積 $c\mathbf{u}$ 也在 $W$ 中。

*註：當 $W$ 非空時，條件 1 可以替換為 "對於任意 $\mathbf{u} \in W$ 和純量 $c=0$，有 $0\mathbf{u}=\mathbf{0} \in W$"。但直接檢查 $\mathbf{0} \in W$ 通常更簡單。*

**典型例子與轉換/推導**
*   **零空間 (Zero Subspace)**：任何向量空間 $V$ 都有一個最簡單的子空間，即只包含零向量的集合 $W = \{ \mathbf{0} \}$。
    *   零向量在 $W$ 中 (符合條件 1)。
    *   $\mathbf{0} + \mathbf{0} = \mathbf{0} \in W$ (符合條件 2)。
    *   $c\mathbf{0} = \mathbf{0} \in W$ (符合條件 3)。
*   **自身空間 (Improper Subspace)**：任何向量空間 $V$ 都是它自己的子空間。
*   **$\mathbb{R}^3$ 中的直線和平面**：
    *   所有通過原點的直線 (例如 $L = \{ (x, 2x, 3x) \mid x \in \mathbb{R} \}$) 是 $\mathbb{R}^3$ 的子空間。
    *   所有通過原點的平面 (例如 $P = \{ (x, y, z) \mid x+y-z=0 \}$) 是 $\mathbb{R}^3$ 的子空間。
    *   不通過原點的直線或平面則不是子空間，因為它們不包含零向量。
*   **矩陣的零空間 (Null Space)**：對於一個 $m \times n$ 矩陣 $A$，其零空間 $N(A) = \{ \mathbf{x} \in \mathbb{R}^n \mid A\mathbf{x} = \mathbf{0} \}$ 是 $\mathbb{R}^n$ 的一個子空間。
    *   $A\mathbf{0} = \mathbf{0}$，所以 $\mathbf{0} \in N(A)$ (條件 1)。
    *   若 $\mathbf{u}, \mathbf{v} \in N(A)$，則 $A\mathbf{u}=\mathbf{0}$ 且 $A\mathbf{v}=\mathbf{0}$。所以 $A(\mathbf{u}+\mathbf{v}) = A\mathbf{u} + A\mathbf{v} = \mathbf{0} + \mathbf{0} = \mathbf{0}$，故 $\mathbf{u}+\mathbf{v} \in N(A)$ (條件 2)。
    *   若 $c \in \mathbb{R}$ 且 $\mathbf{u} \in N(A)$，則 $A\mathbf{u}=\mathbf{0}$。所以 $A(c\mathbf{u}) = c(A\mathbf{u}) = c\mathbf{0} = \mathbf{0}$，故 $c\mathbf{u} \in N(A)$ (條件 3)。

**與相鄰概念的關聯**
*   **線性組合 (Linear Combination)**：子空間的判斷準則可以理解為：一個集合 $W$ 是子空間，若且唯若 $W$ 對於任意線性組合都是封閉的。即，如果 $\mathbf{v}_1, \dots, \mathbf{v}_k \in W$ 且 $c_1, \dots, c_k \in F$，則 $c_1\mathbf{v}_1 + \dots + c_k\mathbf{v}_k \in W$。
*   **生成空間 (Span)**：任何一組向量的生成空間 (所有這些向量的線性組合構成的集合) 都必然是一個子空間。例如，矩陣的行空間 (Row Space)、列空間 (Column Space) 都是相應向量空間的子空間。
*   **基底與維度 (Basis and Dimension)**：子空間也擁有自己的基底和維度，這些概念在後續章節會深入探討。子空間的維度不能超過它所屬向量空間的維度。

-----

#### 3. 進階內容：子空間的交集與和 (Intersection and Sum of Subspaces)

**核心觀念**
當我們有多個子空間時，可以定義它們的交集與和，這些新的集合也會是原向量空間的子空間。

*   **子空間的交集 (Intersection of Subspaces)**
    若 $W_1$ 和 $W_2$ 是向量空間 $V$ 的兩個子空間，則它們的交集 $W_1 \cap W_2 = \{ \mathbf{v} \in V \mid \mathbf{v} \in W_1 \text{ 且 } \mathbf{v} \in W_2 \}$ 也是 $V$ 的一個子空間。
    *   證明：
        1.  $\mathbf{0} \in W_1$ 且 $\mathbf{0} \in W_2$ (因為 $W_1, W_2$ 是子空間)，所以 $\mathbf{0} \in W_1 \cap W_2$。
        2.  若 $\mathbf{u}, \mathbf{v} \in W_1 \cap W_2$，則 $\mathbf{u}, \mathbf{v} \in W_1$ 且 $\mathbf{u}, \mathbf{v} \in W_2$。由於 $W_1, W_2$ 是子空間，所以 $\mathbf{u}+\mathbf{v} \in W_1$ 且 $\mathbf{u}+\mathbf{v} \in W_2$。因此 $\mathbf{u}+\mathbf{v} \in W_1 \cap W_2$。
        3.  若 $c \in F$ 且 $\mathbf{u} \in W_1 \cap W_2$，則 $\mathbf{u} \in W_1$ 且 $\mathbf{u} \in W_2$。由於 $W_1, W_2$ 是子空間，所以 $c\mathbf{u} \in W_1$ 且 $c\mathbf{u} \in W_2$。因此 $c\mathbf{u} \in W_1 \cap W_2$。

*   **子空間的和 (Sum of Subspaces)**
    若 $W_1$ 和 $W_2$ 是向量空間 $V$ 的兩個子空間，則它們的和 $W_1 + W_2 = \{ \mathbf{w}_1 + \mathbf{w}_2 \mid \mathbf{w}_1 \in W_1, \mathbf{w}_2 \in W_2 \}$ 也是 $V$ 的一個子空間。
    *   證明：
        1.  $\mathbf{0} \in W_1$ 且 $\mathbf{0} \in W_2$，所以 $\mathbf{0} = \mathbf{0} + \mathbf{0} \in W_1 + W_2$。
        2.  若 $\mathbf{x}, \mathbf{y} \in W_1 + W_2$，則 $\mathbf{x} = \mathbf{w}_{1a} + \mathbf{w}_{2a}$ 且 $\mathbf{y} = \mathbf{w}_{1b} + \mathbf{w}_{2b}$，其中 $\mathbf{w}_{1a}, \mathbf{w}_{1b} \in W_1$ 且 $\mathbf{w}_{2a}, \mathbf{w}_{2b} \in W_2$。
            $\mathbf{x} + \mathbf{y} = (\mathbf{w}_{1a} + \mathbf{w}_{2a}) + (\mathbf{w}_{1b} + \mathbf{w}_{2b}) = (\mathbf{w}_{1a} + \mathbf{w}_{1b}) + (\mathbf{w}_{2a} + \mathbf{w}_{2b})$。
            由於 $W_1$ 和 $W_2$ 是子空間，所以 $\mathbf{w}_{1a} + \mathbf{w}_{1b} \in W_1$ 且 $\mathbf{w}_{2a} + \mathbf{w}_{2b} \in W_2$。
            因此 $\mathbf{x} + \mathbf{y} \in W_1 + W_2$。
        3.  若 $c \in F$ 且 $\mathbf{x} \in W_1 + W_2$，則 $\mathbf{x} = \mathbf{w}_1 + \mathbf{w}_2$。
            $c\mathbf{x} = c(\mathbf{w}_1 + \mathbf{w}_2) = c\mathbf{w}_1 + c\mathbf{w}_2$。
            由於 $W_1$ 和 $W_2$ 是子空間，所以 $c\mathbf{w}_1 \in W_1$ 且 $c\mathbf{w}_2 \in W_2$。
            因此 $c\mathbf{x} \in W_1 + W_2$。

**典型例子**
在 $\mathbb{R}^3$ 中，令 $W_1$ 為 $xy$-平面 ($z=0$) 的子空間， $W_2$ 為 $yz$-平面 ($x=0$) 的子空間。
*   $W_1 = \{ (x, y, 0) \mid x, y \in \mathbb{R} \}$
*   $W_2 = \{ (0, y, z) \mid y, z \in \mathbb{R} \}$
*   它們的交集 $W_1 \cap W_2 = \{ (0, y, 0) \mid y \in \mathbb{R} \}$ 是一個通過原點的 $y$-軸，這是一個子空間。
*   它們的和 $W_1 + W_2 = \{ (x, y_1, 0) + (0, y_2, z) \mid x, y_1, y_2, z \in \mathbb{R} \} = \{ (x, y_1+y_2, z) \mid x, y_1, y_2, z \in \mathbb{R} \} = \mathbb{R}^3$。這也是一個子空間。

**與相鄰概念的關聯**
*   **直和 (Direct Sum)**：如果 $V = W_1 + W_2$ 且 $W_1 \cap W_2 = \{ \mathbf{0} \}$，則稱 $V$ 是 $W_1$ 和 $W_2$ 的直和，記作 $V = W_1 \oplus W_2$。這意味著 $V$ 中的每個向量都可以唯一地表示為 $W_1$ 和 $W_2$ 中向量的和。
*   **維度定理 (Dimension Theorem)**：對於有限維子空間，有 $\dim(W_1 + W_2) = \dim(W_1) + \dim(W_2) - \dim(W_1 \cap W_2)$。這是一個重要的公式，連結了子空間的維度、交集和和。

-----

#### 4. 常見錯誤與澄清

1.  **忘記驗證零向量**：判斷一個集合是否為子空間時，最常見的錯誤是忘記檢查它是否包含零向量。如果一個集合不包含零向量，它絕不可能是子空間。例如，$\mathbb{R}^2$ 中所有形如 $(x, 1)$ 的向量集合就不是子空間，因為它不包含 $(0, 0)$。
2.  **純量乘法使用錯誤的純量**：向量空間是定義在特定場 $F$ 上的。如果你在 $\mathbb{R}^n$ 上討論，純量應來自 $\mathbb{R}$。在複向量空間 $\mathbb{C}^n$ 上，純量應來自 $\mathbb{C}$。例如，實數純量乘法在複向量空間中不總是足夠的。
3.  **對「封閉性」理解不足**：
    *   **加法封閉性**：兩個集合內的向量相加後，結果必須仍在該集合內。例如，$\mathbb{R}^2$ 中所有 $x \ge 0$ 且 $y \ge 0$ 的向量集合 (第一象限) 就不是子空間。雖然 $(1,1) \in W$ 且 $(2,2) \in W \implies (1,1)+(2,2)=(3,3) \in W$，滿足加法封閉性，但它不滿足純量乘法封閉性。
    *   **純量乘法封閉性**：一個向量乘以任意純量後，結果必須仍在該集合內。這包含了負數純量，所以如果一個集合在某個方向上是單向的（如所有分量都非負），它通常不會是子空間。以第一象限為例，$(1,0)$ 在其中，但 $-1 \cdot (1,0) = (-1,0)$ 不在其中，違反純量乘法封閉性。

-----

#### 5. 小練習 (附詳解)

**練習 1：判斷集合是否為向量空間**
令 $V = \mathbb{R}^2$，考慮集合 $W = \{ (x, y) \mid y = x+1, x, y \in \mathbb{R} \}$。判斷 $W$ 在 $\mathbb{R}^2$ 上的標準向量加法和純量乘法下是否為一個向量空間。

**詳解 1：**
我們將使用子空間判斷準則來檢驗，因為 $W$ 是 $\mathbb{R}^2$ 的一個子集，如果它是向量空間，那它必須是 $\mathbb{R}^2$ 的子空間。

1.  **檢查零向量是否存在**：
    *   $\mathbb{R}^2$ 中的零向量是 $\mathbf{0} = (0, 0)$。
    *   要判斷 $\mathbf{0} \in W$，我們需要檢查它的分量是否滿足 $W$ 的定義條件 $y=x+1$。
    *   將 $x=0, y=0$ 代入 $y=x+1$，得到 $0 = 0+1$，即 $0=1$。這顯然不成立。
    *   因此，零向量 $\mathbf{0} \notin W$。

2.  **結論**：
    *   由於 $W$ 不包含零向量，它不滿足子空間判斷準則的第一條。
    *   因此，$W$ 不是 $\mathbb{R}^2$ 的子空間，也就不可能是一個向量空間。

-----

**練習 2：判斷集合是否為子空間**
令 $V = M_{2 \times 2}(\mathbb{R})$ 為所有 $2 \times 2$ 實數矩陣的向量空間。考慮子集 $W = \left\{ \begin{pmatrix} a & b \\ c & d \end{pmatrix} \mid a+d=0, a,b,c,d \in \mathbb{R} \right\}$。判斷 $W$ 是否為 $V$ 的子空間。

**詳解 2：**
我們使用子空間判斷準則來檢驗 $W$。

1.  **檢查零向量是否存在**：
    *   $M_{2 \times 2}(\mathbb{R})$ 中的零向量是零矩陣 $\mathbf{0} = \begin{pmatrix} 0 & 0 \\ 0 & 0 \end{pmatrix}$。
    *   對於零矩陣，其對角線元素的和為 $0+0=0$。
    *   這滿足 $W$ 的條件 $a+d=0$。
    *   因此，零矩陣 $\mathbf{0} \in W$。條件 1 滿足。

2.  **檢查加法封閉性**：
    *   取任意兩個在 $W$ 中的矩陣 $\mathbf{A}, \mathbf{B}$。它們的形式為：
        $\mathbf{A} = \begin{pmatrix} a_1 & b_1 \\ c_1 & d_1 \end{pmatrix}$，且根據 $W$ 的定義，有 $a_1+d_1=0$。
        $\mathbf{B} = \begin{pmatrix} a_2 & b_2 \\ c_2 & d_2 \end{pmatrix}$，且根據 $W$ 的定義，有 $a_2+d_2=0$。
    *   計算它們的和 $\mathbf{A} + \mathbf{B}$:
        $\mathbf{A} + \mathbf{B} = \begin{pmatrix} a_1+a_2 & b_1+b_2 \\ c_1+c_2 & d_1+d_2 \end{pmatrix}$。
    *   檢查和矩陣是否滿足 $W$ 的條件，即檢查其對角線元素之和是否為 $0$：
        $(a_1+a_2) + (d_1+d_2) = (a_1+d_1) + (a_2+d_2)$ (利用實數加法的交換律和結合律)。
        由於 $a_1+d_1=0$ 且 $a_2+d_2=0$，所以 $(a_1+d_1) + (a_2+d_2) = 0 + 0 = 0$。
    *   因此，$\mathbf{A} + \mathbf{B} \in W$。條件 2 滿足。

3.  **檢查純量乘法封閉性**：
    *   取任意純量 $k \in \mathbb{R}$ 和任意在 $W$ 中的矩陣 $\mathbf{A} = \begin{pmatrix} a & b \\ c & d \end{pmatrix}$，且 $a+d=0$。
    *   計算純量乘積 $k\mathbf{A}$:
        $k\mathbf{A} = \begin{pmatrix} ka & kb \\ kc & kd \end{pmatrix}$。
    *   檢查 $k\mathbf{A}$ 是否滿足 $W$ 的條件，即檢查其對角線元素之和是否為 $0$：
        $ka+kd = k(a+d)$ (利用實數乘法的分配律)。
        由於 $a+d=0$，所以 $k(a+d) = k \cdot 0 = 0$。
    *   因此，$k\mathbf{A} \in W$。條件 3 滿足。

4.  **結論**：
    *   由於 $W$ 滿足所有三個子空間判斷準則，所以 $W$ 是 $M_{2 \times 2}(\mathbb{R})$ 的一個子空間。

-----

#### 6. 延伸閱讀/參考

*   **抽象代數 (Abstract Algebra)**：向量空間是更廣泛的代數結構（如模 M-module）的一個特例，其中場 $F$ 是環 $R$ 的一個特例。深入學習抽象代數可以對這些概念有更深層次的理解。
*   **泛函分析 (Functional Analysis)**：將向量空間推廣到無限維的情況，研究函數空間的性質，並引入拓撲結構。這在微分方程和量子力學等領域有廣泛應用。
*   **Gilbert Strang, *Introduction to Linear Algebra***：一本廣受好評的線性代數教材，以其清晰的直覺解釋和豐富的例子著稱。
*   **Stephen H. Friedberg, Arnold J. Insel, Lawrence E. Spence, *Linear Algebra***：一本更為嚴謹和理論化的線性代數教材，適合深入學習。