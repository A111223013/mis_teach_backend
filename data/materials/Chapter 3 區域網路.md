# Chapter 3 區域網路

本章將深入探討區域網路（Local Area Network, LAN）的核心概念、組成要素、運作原理及其在現代網路架構中的重要性。我們將從基礎定義出發，逐步解析 LAN 的技術細節，並透過實例與練習，幫助讀者建立紮實的 LAN 知識基礎。

-----

## ### 3.1 核心概念與定義

#### #### 3.1.1 什麼是區域網路 (LAN)?

**定義/核心觀念：**
區域網路（Local Area Network, LAN）是指在一個相對較小的地理範圍內，例如家庭、辦公室、學校或園區內，將電腦及其他網路設備連接起來的網路。LAN 的主要特點是高速率、低延遲、成本較低且通常由單一組織或個人所擁有和管理。它允許連接的設備共享資源（如檔案、印表機、網際網路連線）並相互通訊。

**例子或推導：**
*   **家庭網路：** 您家中的 Wi-Fi 路由器連接了您的手機、筆記型電腦、智慧電視等設備，形成了一個小型 LAN，所有設備可以共用網際網路連線，甚至互相傳輸檔案。
*   **辦公室網路：** 一間公司內部的多台電腦、伺服器、印表機透過乙太網路線或 Wi-Fi 連接到交換器，形成公司的 LAN。員工可以在 LAN 內存取公司檔案伺服器、共用印表機等。
*   **校園實驗室網路：** 學校電腦教室中的所有電腦連接到同一個交換器，組成了該實驗室的 LAN。

**與相鄰概念的關聯：**
LAN 的概念通常與廣域網路 (Wide Area Network, WAN) 和都會網路 (Metropolitan Area Network, MAN) 進行對比。
*   **WAN：** 涵蓋廣闊地理範圍（如國家、全球），連接多個 LAN，通常使用電信業者的線路，速率相對較低，延遲較高。網際網路就是最大的 WAN。
*   **MAN：** 涵蓋城市或大型園區的範圍，介於 LAN 和 WAN 之間。
因此，LAN 可以被視為網路金字塔的底層，是構成大型網路的基本單元。

#### #### 3.1.2 LAN 的主要元件

一個典型的區域網路由多種硬體和軟體元件組成，以實現設備間的互連和通訊。

**定義/核心觀念：**
*   **網路介面卡 (Network Interface Card, NIC)：** 每個需要連接到網路的設備（如電腦、伺服器）都必須安裝 NIC。它負責將電腦的數位資料轉換為適合在網路媒體上傳輸的訊號，並具有一個全球唯一的 MAC 位址 (Media Access Control Address)。
*   **網路線材 (Network Cables)：** 用於連接網路設備的實體傳輸媒介。
    *   **雙絞線 (Twisted Pair Cable)：** 最常見的有非遮蔽式雙絞線 (UTP) 和遮蔽式雙絞線 (STP)。UTP 廣泛用於乙太網路，常見的類別有 Cat 5e, Cat 6, Cat 6a 等，影響傳輸速度和距離。
    *   **光纖 (Fiber Optic Cable)：** 使用光訊號傳輸資料，具有高頻寬、長距離、抗電磁干擾等優點，常用於骨幹網路或高速需求場景。
*   **網路設備 (Network Devices)：**
    *   **集線器 (Hub)：** 早期設備，將所有收到的資料訊號廣播給所有連接埠，不具備智慧，會造成網路衝突。
    *   **交換器 (Switch)：** 現代 LAN 的核心設備。它能學習連接設備的 MAC 位址，並將資料訊號精確地傳送到目標設備的連接埠，有效降低網路衝突，提高效率。
    *   **路由器 (Router)：** 用於連接不同的網路（如 LAN 與 WAN），根據 IP 位址轉發資料封包，負責網路間的路由決策。
    *   **無線基地台 (Wireless Access Point, AP)：** 允許無線設備連接到有線網路，提供無線網路服務。
*   **伺服器與客戶端 (Servers & Clients)：**
    *   **伺服器：** 提供服務或資源（如檔案伺服器、網頁伺服器、資料庫伺服器）的電腦。
    *   **客戶端：** 請求服務或資源的電腦或設備。

**例子或推導：**
*   **NIC：** 您的筆記型電腦內建的乙太網路埠和 Wi-Fi 模組就是 NIC 的實例。每個模組都有獨特的 MAC 位址（例如：`00:1A:2B:3C:4D:5E`）。
*   **線材：** 當您用一條藍色的 Cat 6 網路線將電腦連接到交換器時，您正在使用雙絞線。當電信公司拉一條光纖線到您的數據機時，您正在使用光纖。
*   **設備：** 家用 Wi-Fi 路由器通常整合了交換器、路由器和無線基地台的功能。

**與相鄰概念的關聯：**
這些元件共同構成了 LAN 的實體層和資料連結層。NIC 的 MAC 位址在資料連結層發揮作用，交換器基於 MAC 位址進行轉發。路由器則在網路層（OSI 模型第三層）運作，處理 IP 位址。

#### #### 3.1.3 LAN 的拓撲結構

**定義/核心觀念：**
網路拓撲 (Network Topology) 指的是網路中設備的物理或邏輯排列方式。它決定了資料如何在網路上流動，並影響網路的可靠性、效能和成本。

**主要拓撲類型：**
1.  **匯流排拓撲 (Bus Topology)：** 所有設備共享一條主幹電纜。資料訊號沿著電纜雙向傳播，被所有設備接收，但只有目標設備處理。
    *   **優點：** 結構簡單，所需線材少。
    *   **缺點：** 故障隔離困難，任何一處斷裂可能導致整個網路癱瘓；存在衝突問題。
2.  **環狀拓撲 (Ring Topology)：** 設備以環狀方式連接，資料沿著一個方向傳輸，每個設備接收並轉發資料給下一個設備。
    *   **優點：** 資料傳輸有序，通常使用令牌環 (Token Ring) 協定。
    *   **缺點：** 單點故障可能導致整個網路癱瘓；添加/移除設備困難。
3.  **星狀拓撲 (Star Topology)：** 所有設備都連接到一個中央設備（如集線器或交換器）。這是目前最常見的 LAN 拓撲。
    *   **優點：** 故障隔離容易，單個設備故障不影響其他設備；易於安裝和擴展。
    *   **缺點：** 中央設備是單點故障；所需線材較多。
4.  **網狀拓撲 (Mesh Topology)：** 每個設備都直接連接到網路中的其他所有設備（完全網狀）或部分設備（部分網狀）。
    *   **優點：** 高度冗餘和可靠性，即使多個路徑故障也能保持通訊。
    *   **缺點：** 成本高，佈線複雜，主要用於骨幹網路或高可靠性需求場景。
5.  **樹狀拓撲 (Tree Topology)：** 是星狀拓撲的延伸，多個星狀網路透過匯流排連接，形成層次結構。
    *   **優點：** 易於擴展，有利於管理。
    *   **缺點：** 中央節點故障可能影響分支。

**例子或推導：**
*   **星狀拓撲：** 現代辦公室網路幾乎都是星狀拓撲。所有電腦都連接到機房中的一個或多個交換器，然後交換器再連接到路由器。
*   **樹狀拓撲：** 一棟大樓可能在每層樓都有一個交換器（星狀），這些樓層交換器再連接到大樓主機房的核心交換器，形成樹狀結構。

**與實際部署的關聯：**
星狀拓撲因其高可靠性、易於管理和故障隔離的優勢，成為現代乙太網路 LAN 的主導拓撲。其結構也與集線器和交換器的運作模式相符。

-----

## ### 3.2 典型例子與轉換/推導

#### #### 3.2.1 乙太網路 (Ethernet)

**定義/核心觀念：**
乙太網路（Ethernet）是目前最廣泛使用的有線區域網路技術標準，由 IEEE 802.3 工作組制定。它定義了實體層和資料連結層的規範，包括訊框格式、傳輸媒介、存取控制方法等。乙太網路的核心是其媒體存取控制 (Media Access Control, MAC) 機制。

**例子或推導：**
*   **CSMA/CD (Carrier Sense Multiple Access with Collision Detection)：**
    *   這是早期乙太網路（特別是共享式集線器網路）的核心存取控制機制。
    *   **Carrier Sense (載波偵聽)：** 設備在發送資料前會先偵聽網路，確認是否已被佔用。如果網路空閒，就發送。
    *   **Multiple Access (多重存取)：** 網路中的所有設備共享同一傳輸介質，都可以嘗試發送資料。
    *   **Collision Detection (衝突偵測)：** 如果兩個或多個設備同時偵聽到網路空閒並同時發送資料，就會發生「衝突」。發送中的設備會偵測到衝突，並立即停止發送。
    *   **Jam Signal & Backoff Algorithm (堵塞訊號與退避演算法)：** 偵測到衝突的設備會發送一個「堵塞訊號」通知其他設備發生衝突，然後等待一個隨機時間（退避時間）後再嘗試重新發送。這個隨機時間確保了衝突不會立即再次發生。
*   **從共享式集線器網路到交換器網路的演進：**
    *   **早期（集線器時代）：** 使用集線器組建的乙太網路是共享式網路。所有連接埠共享一個「衝突域 (Collision Domain)」，任何一個設備發送資料都會被廣播到所有連接埠，且容易發生衝突。頻寬也是共享的。
        *   例如：10 Mbps 的網路連接 4 台電腦，每台電腦理論上只能分到 2.5 Mbps。
    *   **現代（交換器時代）：** 交換器透過學習 MAC 位址，建立 MAC 位址表 (MAC Address Table)，將資料訊號精確地轉發到目標連接埠。每個連接埠都形成一個獨立的「衝突域」，從根本上解決了碰撞問題。每個連接埠也能享有獨立的頻寬（全雙工模式）。
        *   例如：100 Mbps 的交換器連接 4 台電腦，每台電腦都可以獨立享有 100 Mbps 的頻寬，且不會有衝突。

**乙太網路標準家族：**
*   10BASE-T：早期，10 Mbps，使用 Cat 3/4/5 UTP 雙絞線。
*   100BASE-TX (Fast Ethernet)：100 Mbps，使用 Cat 5/5e UTP 雙絞線。
*   1000BASE-T (Gigabit Ethernet)：1 Gbps，使用 Cat 5e/6 UTP 雙絞線。
*   10GBASE-T (10 Gigabit Ethernet)：10 Gbps，使用 Cat 6a/7 UTP 雙絞線或光纖。
*   25G/40G/100G Ethernet：更高速度的乙太網路，主要用於資料中心和骨幹網路，通常使用光纖。

**與相鄰概念的關聯：**
乙太網路在 OSI 模型中主要涉及實體層和資料連結層。它定義了資料訊框的結構（乙太網路訊框），其中包含來源和目的 MAC 位址。CSMA/CD 和 CSMA/CA 是媒體存取控制 (MAC) 子層的協定，負責在共享介質上協調設備的傳輸權。

#### #### 3.2.2 Wi-Fi (無線區域網路 - WLAN)

**定義/核心觀念：**
Wi-Fi 是基於 IEEE 802.11 標準家族的無線區域網路 (Wireless Local Area Network, WLAN) 技術。它允許設備透過無線電波進行通訊，無需實體纜線。Wi-Fi 的核心是其媒體存取控制方法 CSMA/CA。

**例子或推導：**
*   **CSMA/CA (Carrier Sense Multiple Access with Collision Avoidance)：**
    *   由於無線電波的特性（如「隱藏節點問題」：A 和 C 都聽不到對方，但都向 B 發送訊號，導致 B 處發生衝突），偵測衝突比有線網路困難且效率低下。因此，Wi-Fi 採用了「預防衝突」的機制。
    *   **Carrier Sense (載波偵聽)：** 設備在發送前偵聽頻道。
    *   **Multiple Access (多重存取)：** 多個設備共享無線頻道。
    *   **Collision Avoidance (衝突避免)：**
        *   **Duration/NAV (Network Allocation Vector)：** 設備在發送訊框時會包含一個持續時間值，讓其他設備知道該頻道在接下來的時間會被佔用，從而避免發送。
        *   **ACK (Acknowledgement)：** 接收方成功接收到資料後會回傳一個確認訊號。如果發送方沒有收到 ACK，會認為資料丟失或發生衝突，並進行重傳。
        *   **RTS/CTS (Request To Send/Clear To Send)：** 在流量較大或隱藏節點問題嚴重時，設備可以先發送 RTS 訊號給 AP，AP 收到後回覆 CTS 訊號，通知其他設備在指定時間內不要發送，從而預留頻道。
*   **與有線乙太網路的異同：**
    *   **相同點：** 都用於構建 LAN，都基於 CSMA 原理，都使用 MAC 位址。
    *   **不同點：**
        *   **傳輸媒介：** Wi-Fi 使用無線電波，乙太網路使用電纜或光纖。
        *   **存取機制：** Wi-Fi 使用 CSMA/CA (避免衝突)，乙太網路使用 CSMA/CD (偵測衝突)。
        *   **半雙工/全雙工：** Wi-Fi 通常是半雙工（同一時間只能發送或接收），乙太網路在交換器環境下可以是全雙工。
        *   **安全性：** 無線網路更容易被竊聽，需要額外的加密措施（如 WPA2/WPA3）。

**IEEE 802.11 標準系列：**
*   802.11b：2.4 GHz 頻段，最高 11 Mbps。
*   802.11a：5 GHz 頻段，最高 54 Mbps。
*   802.11g：2.4 GHz 頻段，最高 54 Mbps。
*   802.11n (Wi-Fi 4)：2.4/5 GHz 頻段，支援 MIMO，最高 600 Mbps。
*   802.11ac (Wi-Fi 5)：5 GHz 頻段，更寬頻道、更多 MIMO，最高數 Gbps。
*   802.11ax (Wi-Fi 6)：2.4/5 GHz 頻段，支援 OFDMA, TWT 等技術，提高效率和容量，最高數 Gbps。

**與相鄰概念的關聯：**
Wi-Fi 與乙太網路一樣，主要在 OSI 模型的實體層和資料連結層運作。無線基地台 (AP) 扮演了連接無線客戶端與有線乙太網路的角色，它通常帶有乙太網路埠，將無線訊號轉換為有線訊號。

-----

## ### 3.3 與相鄰概念的關聯

#### #### 3.3.1 OSI/TCP-IP 模型中的 LAN

**定義/核心觀念：**
LAN 的運作範圍主要集中在 OSI 模型的底兩層：實體層 (Physical Layer) 和資料連結層 (Data Link Layer)。TCP/IP 模型中則對應於網路存取層 (Network Access Layer)。

*   **實體層 (Layer 1)：** 定義了傳輸媒介（如電纜、光纖、無線電波）、電氣/光學訊號、傳輸速率、拓撲結構等。乙太網路的線材規範 (100BASE-TX 的 UTP 線)、Wi-Fi 的無線電頻率、NIC 的物理接口都屬於這一層。
*   **資料連結層 (Layer 2)：** 負責在兩個直接相連的設備之間傳輸資料，處理訊框的組織、錯誤檢測、流量控制以及媒體存取控制 (MAC)。
    *   **MAC (Media Access Control) 子層：** 處理媒體存取權，如乙太網路的 CSMA/CD 或 Wi-Fi 的 CSMA/CA。MAC 位址在此層使用，用於唯一標識網路中的設備。
    *   **LLC (Logical Link Control) 子層：** 提供上層協定（如網路層）的接口。

**例子或推導：**
*   當您的電腦發送一個乙太網路訊框時，NIC 會將訊框的位元串轉換為電氣訊號，透過網路線傳輸（實體層）。
*   訊框中包含的來源 MAC 位址和目的 MAC 位址，以及訊框的格式，都是資料連結層的職責。交換器就是基於 MAC 位址在資料連結層轉發訊框的設備。

**與相鄰概念的關聯：**
*   **網路層 (Layer 3)：** 在 LAN 之上是網路層，它處理 IP 位址。路由器主要在這一層運作，將資料封包從一個網路轉發到另一個網路。
*   **ARP (Address Resolution Protocol)：** ARP 是在資料連結層和網路層之間協作的一個重要協定。當一個設備知道另一個設備的 IP 位址，但不知道其 MAC 位址時，它會發送 ARP 請求廣播到 LAN 中，詢問該 IP 位址對應的 MAC 位址。目標設備會回覆其 MAC 位址。

#### #### 3.3.2 網路協定在 LAN 中的應用

**定義/核心觀念：**
除了底層的 MAC 協定外，許多上層協定也在 LAN 環境中扮演重要角色，提供服務和管理功能。

*   **DHCP (Dynamic Host Configuration Protocol)：** 自動為 LAN 中的設備（客戶端）分配 IP 位址、子網路遮罩、預設閘道和 DNS 伺服器等網路設定參數。這大大簡化了網路管理。
*   **DNS (Domain Name System)：** 將人類可讀的網域名稱（如 `www.google.com`）解析成機器可讀的 IP 位址。在 LAN 環境中，設備需要配置 DNS 伺服器才能解析網際網路上的網域名稱。許多 LAN 也會部署內部 DNS 伺服器來解析內部資源的名稱。

**例子或推導：**
*   當您將新的筆記型電腦連接到辦公室的 Wi-Fi 時，它會自動從 DHCP 伺服器取得 IP 位址，無需手動配置。
*   當您在瀏覽器中輸入 `www.example.com` 時，您的電腦會向配置的 DNS 伺服器查詢 `www.example.com` 的 IP 位址，然後才能與該網站建立連線。

**與相鄰概念的關聯：**
DHCP 和 DNS 都是應用層協定，但它們的服務對於網路層及以上層次的正常運作至關重要。DHCP 確保了網路層的 IP 配置，而 DNS 則方便了使用者對網路資源的存取。

-----

## ### 3.4 進階內容：VLAN (虛擬區域網路)

#### #### 3.4.1 VLAN 的核心概念與運作

**定義/核心觀念：**
虛擬區域網路 (Virtual Local Area Network, VLAN) 是一種透過邏輯方式將一個實體區域網路分割成多個廣播域 (Broadcast Domain) 的技術。在沒有 VLAN 的情況下，一個交換器上的所有連接埠都屬於同一個廣播域。而 VLAN 允許將不同連接埠（甚至不同交換器上的連接埠）邏輯上劃分到不同的 VLAN 中，即使它們物理上連接在同一個交換器上。

*   **廣播域 (Broadcast Domain)：** 在此範圍內，一個設備發送的廣播訊息可以被所有其他設備收到。廣播域越大，網路流量越大，安全性越低。
*   **VLAN ID (VID)：** 每個 VLAN 都會被分配一個唯一的識別碼 (1-4094)。
*   **IEEE 802.1Q 標準：** 這是一個用於實現 VLAN 的標準，它在乙太網路訊框中插入一個 4 位元組的 VLAN 標籤 (Tag)，其中包含 VLAN ID，以便交換器識別該訊框屬於哪個 VLAN。
*   **存取埠 (Access Port)：** 用於連接終端設備（如電腦、伺服器），該連接埠只屬於一個特定的 VLAN，且發送不帶 VLAN 標籤的訊框。
*   **幹線埠 (Trunk Port)：** 用於連接交換器到交換器、交換器到路由器/防火牆，可以承載多個 VLAN 的流量。透過 802.1Q 標籤，幹線埠可以區分不同 VLAN 的訊框。

**例子或推導：**
假設一家公司有兩個部門：研發部 (R&D) 和行銷部 (Marketing)，它們都連接到同一個實體交換器。
*   **無 VLAN 情況：** 兩部門的電腦都在同一個廣播域。研發部的廣播訊息會被行銷部的電腦收到，反之亦然。這帶來安全隱患和不必要的流量。
*   **有 VLAN 情況：**
    1.  在交換器上配置 VLAN 10 給研發部，VLAN 20 給行銷部。
    2.  將連接研發部電腦的交換器埠設定為 VLAN 10 的存取埠。
    3.  將連接行銷部電腦的交換器埠設定為 VLAN 20 的存取埠。
    4.  現在，VLAN 10 和 VLAN 20 形成兩個獨立的廣播域。研發部的廣播訊息只會被 VLAN 10 內的設備收到，行銷部的廣播訊息只會被 VLAN 20 內的設備收到。不同 VLAN 的設備無法直接通訊，需要透過路由器進行路由。

**優點：**
*   **安全性：** 將不同部門或敏感資料的設備隔離在不同的 VLAN 中，防止未經授權的存取。
*   **管理性：** 提高網路管理彈性，部門成員可以物理位置分散但邏輯上屬於同一 VLAN。移動、增加或更改設備時，只需更改埠的 VLAN 配置，無需重新佈線。
*   **效能：** 縮小廣播域，減少不必要的廣播流量，提高網路效率。
*   **成本：** 減少對額外交換器的需求，因為一個交換器可以支援多個邏輯網路。

**與傳統 LAN 分割的對比：**
傳統的 LAN 分割是透過部署多個實體獨立的交換器來實現。每個交換器形成一個獨立的廣播域。VLAN 則提供了一種更靈活、更經濟的軟體方式來實現同樣的邏輯分割。

-----

## ### 3.5 常見錯誤與澄清

#### #### 3.5.1 Hub 與 Switch 的區別

**錯誤：** 認為集線器 (Hub) 和交換器 (Switch) 都是用來連接多個網路設備，功能沒有太大差異。
**澄清：** 這是初學者常犯的錯誤。Hub 和 Switch 在功能和效率上有著本質的區別：
*   **Hub (集線器)：**
    *   **工作原理：** 實體層設備 (Layer 1)。收到任何一個埠的資料，都會廣播到所有其他埠。
    *   **衝突域：** 所有連接埠屬於同一個衝突域。任何時候只能有一個設備發送資料，否則會發生衝突。
    *   **頻寬：** 共享頻寬。例如，一個 100 Mbps 的 Hub 連接 4 台設備，每台設備理論上只能使用 25 Mbps。
    *   **優點：** 便宜，結構簡單。
    *   **缺點：** 效率低下，易產生衝突，不適合現代網路。
*   **Switch (交換器)：**
    *   **工作原理：** 資料連結層設備 (Layer 2)。透過學習 MAC 位址，建立 MAC 位址表，實現精準轉發。
    *   **衝突域：** 每個連接埠都是一個獨立的衝突域。設備可以全雙工模式運作，不會發生衝突。
    *   **頻寬：** 提供獨立頻寬。例如，一個 100 Mbps 的交換器連接 4 台設備，每台設備都可以獨立使用 100 Mbps。
    *   **優點：** 高效率，減少衝突，提高網路效能，具備 VLAN 等管理功能。
    *   **缺點：** 較 Hub 昂貴。
**總結：** Hub 是一個「傻瓜式」的廣播設備，而 Switch 是一個「智慧型」的精準轉發設備。現代 LAN 幾乎都使用交換器。

#### #### 3.5.2 IP 位址與 MAC 位址的混淆

**錯誤：** 認為 IP 位址和 MAC 位址是同一個東西，或功能類似。
**澄清：** IP 位址和 MAC 位址都是用於標識網路中的設備，但它們在不同層次運作，具有不同的目的：
*   **MAC 位址 (Media Access Control Address)：**
    *   **層次：** 資料連結層 (Layer 2)。
    *   **識別：** 物理位址，全球唯一，固化在網路介面卡 (NIC) 中。
    *   **格式：** 48 位元，通常表示為 6 組十六進位數字，用冒號或破折號分隔 (例如 `00:1A:2B:3C:4D:5E`)。
    *   **作用：** 用於在**同一個區域網路 (LAN) 內**識別並傳輸訊框到目標設備。交換器基於 MAC 位址轉發訊框。
*   **IP 位址 (Internet Protocol Address)：**
    *   **層次：** 網路層 (Layer 3)。
    *   **識別：** 邏輯位址，由網路管理員或 DHCP 伺服器分配。在不同的網路中可以重複使用私有 IP 位址，公有 IP 位址在全球唯一。
    *   **格式：** IPv4 (32 位元，如 `192.168.1.100`) 或 IPv6 (128 位元，如 `2001:0db8::1`)。
    *   **作用：** 用於在**不同網路之間**識別並路由資料封包。路由器基於 IP 位址轉發封包。
**總結：** MAC 位址負責「局域網內」的準確投遞，類似於您的身份證號碼；IP 位址負責「跨網路」的路由，類似於您的郵政地址。兩者協同工作，透過 ARP 等協定進行映射。

#### #### 3.5.3 無線網路安全性的誤解

**錯誤：** 認為只要設定了密碼，Wi-Fi 網路就足夠安全。
**澄清：** Wi-Fi 網路因為其無線電波的開放性，比有線網路更容易受到攻擊。僅僅設定密碼是不夠的，還需要注意以下幾點：
*   **加密標準：** 確保使用最新的加密標準。
    *   **WEP：** 已被證實極不安全，應避免使用。
    *   **WPA/WPA2-TKIP：** 較 WEP 安全，但存在已知漏洞，不推薦。
    *   **WPA2-AES/WPA3：** 目前推薦的強加密標準。務必確保您的無線基地台和設備都支援並設定為 WPA2 (AES) 或 WPA3。
*   **強密碼：** 使用複雜且不重複的長密碼。
*   **隱藏 SSID：** 隱藏您的 Wi-Fi 網路名稱 (SSID) 可以增加一點點安全性，但並非主要防禦手段，因為工具仍可偵測到隱藏的 SSID。
*   **MAC 位址過濾：** 只允許已知 MAC 位址的設備連接。這也是一種輔助手段，MAC 位址容易被偽造。
*   **韌體更新：** 定期更新無線基地台的韌體，以修補潛在的安全漏洞。
*   **訪客網路：** 提供單獨的訪客 Wi-Fi 網路，將訪客與主要網路隔離，提高內部網路安全性。

-----

## ### 3.6 小練習（附詳解）

#### #### 3.6.1 練習一：小型辦公室 LAN 組網規劃

**情境：**
您正在為一間新成立的小型辦公室規劃網路。該辦公室有以下需求：
*   15 名員工，每人一台電腦。
*   2 台共用網路印表機。
*   1 台檔案伺服器。
*   需要提供有線和無線網路連接。
*   辦公室需連接網際網路。
*   預算適中，追求穩定性和易於管理。

**要求：**
請您根據上述需求，設計一個基本的 LAN 組網方案，並說明所選設備、拓撲結構和主要考量。

**詳解：**

1.  **設備選擇與數量：**
    *   **交換器 (Switch)：**
        *   總共需要連接的設備數量：15 (電腦) + 2 (印表機) + 1 (伺服器) + 1 (無線基地台) + 1 (路由器) = 20 個連接埠。
        *   考慮未來擴展，建議選用埠數稍多的交換器，例如一個 24 埠或 28 埠的 Gigabit 乙太網路交換器。若預算允許，可選擇支援 PoE (Power over Ethernet) 的交換器，方便無線基地台供電。
    *   **路由器 (Router)：**
        *   需要一台路由器連接辦公室 LAN 和網際網路。
        *   可選擇一台具備 NAT (Network Address Translation) 功能的路由器，保護內部 IP 位址。如果上網頻寬較高，選擇效能足夠的路由器。
    *   **無線基地台 (Wireless Access Point, AP)：**
        *   至少一台 Wi-Fi 5 (802.11ac) 或 Wi-Fi 6 (802.11ax) 標準的 AP，以滿足無線設備的連接需求。若辦公室面積較大或有多個隔間，可能需要多台 AP 以提供足夠的覆蓋。
    *   **防火牆 (Firewall)：**
        *   許多路由器本身具備基本的防火牆功能。若有更高級的安全需求，可考慮獨立的防火牆設備。

2.  **拓撲結構：**
    *   **星狀拓撲 (Star Topology)：** 這是最適合現代辦公室環境的選擇。
        *   所有員工電腦、印表機、檔案伺服器和無線基地台都透過乙太網路線直接連接到中央的交換器。
        *   交換器再連接到路由器，路由器連接到網際網路。
        *   **優點：** 故障隔離容易（單一設備故障不影響整體網路），易於擴展（只需插入新設備到交換器空閒埠），管理方便。

3.  **線材選擇：**
    *   **雙絞線 (UTP)：**
        *   對於電腦、印表機、伺服器和 AP 與交換器之間的連接，建議使用 Cat 5e 或 Cat 6 的 UTP 網路線。這能確保至少 1 Gbps 的傳輸速度，滿足一般辦公室需求。
        *   線材長度需根據辦公室佈線實際情況規劃，避免過長影響訊號。

4.  **IP 位址規劃（簡化）：**
    *   路由器通常會作為 DHCP 伺服器，自動為辦公室內的設備分配 IP 位址，例如使用私有 IP 範圍 `192.168.1.0/24`。
    *   檔案伺服器和網路印表機通常會配置靜態 IP 位址，以方便存取和管理 (例如 `192.168.1.10` 給伺服器，`192.168.1.20/21` 給印表機)。

5.  **主要考量：**
    *   **可靠性：** 星狀拓撲和交換器的使用提高了網路的可靠性。
    *   **擴展性：** 預留的交換器埠和選擇的設備標準（Gigabit Ethernet, Wi-Fi 6）為未來擴展提供了空間。
    *   **安全性：** 路由器內建防火牆、Wi-Fi 採用 WPA2/WPA3 加密，提供基本安全防護。
    *   **管理性：** DHCP 自動分配 IP 簡化了配置。

#### #### 3.6.2 練習二：VLAN 配置概念

**情境：**
一家小型公司租用了一層辦公室，有兩個主要部門：銷售部 (Sales) 和技術部 (Tech)，各有 5 名員工。為了提高網路安全性，您決定將兩個部門在同一個實體交換器上邏輯隔離。

**要求：**
請說明如何使用 VLAN 技術實現這一目標，並指出相關概念。

**詳解：**

1.  **VLAN ID 規劃：**
    *   為銷售部定義一個 VLAN ID，例如 `VLAN 10`。
    *   為技術部定義一個 VLAN ID，例如 `VLAN 20`。
    *   （可選）為交換器管理介面或其他特定服務定義一個獨立的 VLAN ID，例如 `VLAN 99`。

2.  **交換器埠配置：**
    *   **定義存取埠 (Access Port)：**
        *   將連接銷售部 5 台電腦的交換器埠（例如埠 1-5）配置為 `VLAN 10` 的存取埠。這意味著這些埠只屬於 `VLAN 10`，並且它們收發的訊框不會帶有 VLAN 標籤。
        *   將連接技術部 5 台電腦的交換器埠（例如埠 6-10）配置為 `VLAN 20` 的存取埠。這些埠只屬於 `VLAN 20`。
    *   **定義幹線埠 (Trunk Port)（若有需要）：**
        *   如果該交換器需要連接到另一個支援 VLAN 的交換器，或者連接到一個路由器/防火牆來實現跨 VLAN 路由，那麼連接這些設備的埠應該配置為幹線埠。幹線埠需要配置為允許 `VLAN 10` 和 `VLAN 20` 的流量通過，並使用 802.1Q 標籤來區分不同 VLAN 的訊框。

3.  **IP 位址規劃：**
    *   **銷售部 (VLAN 10)：** 配置一個獨立的子網路，例如 `192.168.10.0/24`。
    *   **技術部 (VLAN 20)：** 配置另一個獨立的子網路，例如 `192.168.20.0/24`。
    *   透過 DHCP 伺服器（通常由路由器提供）為每個 VLAN 分配各自子網路的 IP 位址。

4.  **實現部門隔離：**
    *   一旦配置完成，`VLAN 10` 的設備（銷售部）將只能與 `VLAN 10` 內的設備通訊，而不能直接與 `VLAN 20` 的設備（技術部）通訊。
    *   兩個部門將形成兩個獨立的廣播域。銷售部的廣播不會到達技術部，反之亦然。

5.  **跨 VLAN 路由（若有需求）：**
    *   如果銷售部和技術部之間需要相互通訊（例如存取共用伺服器或互相協作），則需要透過具備路由功能的設備（如路由器或具備三層交換功能的交換器）來實現跨 VLAN 的路由。
    *   路由器的一個介面可以配置多個子介面 (Sub-interface)，每個子介面對應一個 VLAN ID 並配置該 VLAN 的閘道 IP 位址。

**相關概念：**
*   **廣播域隔離：** VLAN 的核心功能。
*   **802.1Q 標籤：** VLAN 實現的關鍵技術，用於標識訊框所屬的 VLAN。
*   **存取埠 (Access Port) vs. 幹線埠 (Trunk Port)：** 兩種不同類型的交換器埠配置，分別用於終端設備和互連 VLAN 設備。
*   **跨 VLAN 路由：** 實現不同 VLAN 之間通訊的機制。

-----

## ### 3.7 延伸閱讀/參考

*   **書籍：**
    *   Andrew S. Tanenbaum, David J. Wetherall. `Computer Networks` (第六版). Pearson. (經典的電腦網路教材，對 LAN 有深入探討)
    *   Jim Kurose, Keith Ross. `Computer Networking: A Top-Down Approach` (第八版). Pearson. (另一本廣受好評的網路教材)
*   **標準文件：**
    *   **IEEE 802.3 系列標準：** 乙太網路的官方標準，可在 IEEE 網站查詢。
    *   **IEEE 802.11 系列標準：** 無線區域網路 (Wi-Fi) 的官方標準，可在 IEEE 網站查詢。
    *   **IEEE 802.1Q 標準：** VLAN 標籤的標準。
*   **線上資源：**
    *   **RFC (Request for Comments)：** 網際網路工程任務組 (IETF) 發布的技術文檔，包含許多網路協定的詳細說明。
        *   RFC 826: An Ethernet Address Resolution Protocol (關於 ARP)
        *   RFC 2131: Dynamic Host Configuration Protocol (關於 DHCP)
    *   **Cisco CCNA 學習資源：** Cisco 官方網站提供大量關於網路基礎知識、乙太網路、VLAN、路由等主題的教學文檔和實驗室指南。
    *   **Wikipedia (中文維基百科):** 搜尋「區域網路」、「乙太網路」、「Wi-Fi」、「VLAN」等條目以獲取快速概覽和基礎知識。