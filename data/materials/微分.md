# 微分：理解變化的速率

### 1. 核心概念與定義

#### 1.1 什麼是微分？

微分是數學中一個強大的工具，用於量化函數在特定點上的「瞬間變化率」。你可以將它想像成測量一個物體在某一刻的瞬時速度，而不僅僅是它在一段時間內的平均速度。在幾何上，微分描述了函數圖形上切線的斜率。

-----

#### 1.2 導數的定義：從割線到切線

考慮一個函數 $y = f(x)$。
我們想知道在 $x$ 點的瞬時變化率。首先，我們可以考慮從 $x$ 到 $x+h$ 的平均變化率，這由連接點 $(x, f(x))$ 和 $(x+h, f(x+h))$ 的割線斜率給出：

$$m_{\text{割線}} = \frac{f(x+h) - f(x)}{(x+h) - x} = \frac{f(x+h) - f(x)}{h}$$

當我們讓 $h$ 趨近於零時，這條割線會越來越接近於函數在點 $(x, f(x))$ 上的切線。這條切線的斜率就是函數在該點的瞬時變化率，我們稱之為「導數」。

**導數的正式定義（極限定義）**：
函數 $f(x)$ 在點 $x$ 的導數，記為 $f'(x)$ 或 $\frac{dy}{dx}$，定義為：

$$f'(x) = \lim_{h \to 0} \frac{f(x+h) - f(x)}{h}$$

如果這個極限存在，我們就說函數 $f(x)$ 在 $x$ 點是可微的。

-----

#### 1.3 微分的幾何與物理意義

*   **幾何意義**：導數 $f'(x)$ 代表函數 $y=f(x)$ 在點 $(x, f(x))$ 處的切線斜率。斜率為正表示函數遞增，斜率為負表示函數遞減，斜率為零表示函數在該點有水平切線（可能為局部極大值、極小值或鞍點）。

*   **物理意義**：如果 $s = f(t)$ 表示物體在時間 $t$ 時的位置，那麼 $f'(t)$ 就代表物體在時間 $t$ 時的瞬時速度。同樣地，速度對時間的導數就是瞬時加速度。一般而言，導數代表任何物理量相對於另一個量的瞬時變化率。

-----

#### 1.4 常見的微分符號

在微積分中，我們有多種方式來表示導數：

*   **Lagrange 符號**：$f'(x)$ (讀作 "f prime of x")，對於函數 $y=f(x)$，其二階導數為 $f''(x)$，三階導數為 $f'''(x)$。
*   **Leibniz 符號**：$\frac{dy}{dx}$ 或 $\frac{df}{dx}$ (讀作 "dy dx" 或 "df dx")，強調 $y$ 相對於 $x$ 的變化率。其二階導數為 $\frac{d^2 y}{dx^2}$。
*   **Euler 符號 (D 符號)**：$D_x f(x)$ 或 $Df(x)$，表示對 $x$ 進行微分的運算子。

### 2. 基本微分法則與常見函數的導數

在實際計算中，我們通常不會每次都使用極限定義來求導數。相反地，我們會利用一些基本函數的導數公式和微分法則。

#### 2.1 透過極限定義推導基本導數

##### 2.1.1 常數函數的導數
如果 $f(x) = c$（其中 $c$ 是一個常數），則：
$$f'(x) = \lim_{h \to 0} \frac{f(x+h) - f(x)}{h} = \lim_{h \to 0} \frac{c - c}{h} = \lim_{h \to 0} \frac{0}{h} = 0$$
因此，$(c)' = 0$。

##### 2.1.2 冪函數的導數（以 $f(x) = x^2$ 為例）
如果 $f(x) = x^2$，則：
$$f'(x) = \lim_{h \to 0} \frac{(x+h)^2 - x^2}{h}$$
$$= \lim_{h \to 0} \frac{(x^2 + 2xh + h^2) - x^2}{h}$$
$$= \lim_{h \to 0} \frac{2xh + h^2}{h}$$
$$= \lim_{h \to 0} (2x + h)$$
$$= 2x + 0 = 2x$$
因此，$(x^2)' = 2x$。
一般來說，對任意實數 $n$，有 $\frac{d}{dx}(x^n) = nx^{n-1}$。

-----

#### 2.2 基本微分法則

這些法則是處理更複雜函數的基礎：

##### 2.2.1 常數倍法則 (Constant Multiple Rule)
如果 $c$ 是一個常數，且 $f(x)$ 是可微函數，則：
$$\frac{d}{dx}[c \cdot f(x)] = c \cdot \frac{d}{dx}[f(x)]$$
或 $(cf(x))' = cf'(x)$。

##### 2.2.2 和差法則 (Sum and Difference Rule)
如果 $f(x)$ 和 $g(x)$ 都是可微函數，則：
$$\frac{d}{dx}[f(x) \pm g(x)] = \frac{d}{dx}[f(x)] \pm \frac{d}{dx}[g(x)]$$
或 $(f(x) \pm g(x))' = f'(x) \pm g'(x)$。

##### 2.2.3 積法則 (Product Rule)
如果 $f(x)$ 和 $g(x)$ 都是可微函數，則：
$$\frac{d}{dx}[f(x) \cdot g(x)] = f'(x)g(x) + f(x)g'(x)$$
或 $(fg)' = f'g + fg'$。

##### 2.2.4 商法則 (Quotient Rule)
如果 $f(x)$ 和 $g(x)$ 都是可微函數，且 $g(x) \neq 0$，則：
$$\frac{d}{dx}\left[\frac{f(x)}{g(x)}\right] = \frac{f'(x)g(x) - f(x)g'(x)}{[g(x)]^2}$$
或 $\left(\frac{f}{g}\right)' = \frac{f'g - fg'}{g^2}$。

##### 2.2.5 鏈鎖法則 (Chain Rule)
如果 $y = f(u)$ 且 $u = g(x)$ 都是可微函數，則：
$$\frac{dy}{dx} = \frac{dy}{du} \cdot \frac{du}{dx}$$
或 $(f(g(x)))' = f'(g(x)) \cdot g'(x)$。
這條法則在微分複合函數時非常重要。

-----

#### 2.3 常見函數的導數公式

掌握這些公式可以大大加速微分計算：

*   **冪函數**：
    *   $\frac{d}{dx}(x^n) = nx^{n-1}$ (對所有實數 $n$ 都成立)

*   **指數函數**：
    *   $\frac{d}{dx}(e^x) = e^x$
    *   $\frac{d}{dx}(a^x) = a^x \ln a$ (其中 $a>0, a \neq 1$)

*   **對數函數**：
    *   $\frac{d}{dx}(\ln x) = \frac{1}{x}$ (其中 $x>0$)
    *   $\frac{d}{dx}(\log_a x) = \frac{1}{x \ln a}$ (其中 $x>0, a>0, a \neq 1$)

*   **三角函數**：
    *   $\frac{d}{dx}(\sin x) = \cos x$
    *   $\frac{d}{dx}(\cos x) = -\sin x$
    *   $\frac{d}{dx}(\tan x) = \sec^2 x$
    *   $\frac{d}{dx}(\cot x) = -\csc^2 x$
    *   $\frac{d}{dx}(\sec x) = \sec x \tan x$
    *   $\frac{d}{dx}(\csc x) = -\csc x \cot x$

### 3. 與相鄰概念的關聯

微分並非獨立的概念，它與微積分中的其他重要概念緊密相連。

#### 3.1 微分與極限

*   **核心關聯**：導數的定義本身就是一個極限。理解極限是理解微分的基石。微分探討的「瞬時變化率」正是透過極限逼近得到的。

#### 3.2 微分與連續性

*   **重要定理**：如果一個函數在某一點可微，則該函數在該點必定連續。
*   **反例澄清**：然而，一個函數在某一點連續並不代表它一定可微。例如，函數 $f(x) = |x|$ 在 $x=0$ 處是連續的，但它在 $x=0$ 處不可微（因為在 $x=0$ 點左右兩邊的斜率不同，極限不存在，圖形上有一個「尖點」）。

#### 3.3 微分與積分

*   **微積分基本定理**：這是微積分最核心的連結。它指出微分和積分是互逆的運算。
    *   如果 $F'(x) = f(x)$，則 $\int f(x) dx = F(x) + C$。
    *   這意味著，對一個函數求導，然後對結果求不定積分，可以回到原函數（差一個常數）。反之亦然。

#### 3.4 微分與函數圖形分析

*   **增減性**：
    *   若 $f'(x) > 0$，則 $f(x)$ 在該區間遞增。
    *   若 $f'(x) < 0$，則 $f(x)$ 在該區間遞減。
    *   若 $f'(x) = 0$，則 $f(x)$ 在該點可能為局部極大值、局部極小值或鞍點。
*   **極值**：利用一階導數判斷（一階導數檢定法）和二階導數判斷（二階導數檢定法）來尋找函數的局部極大值和極小值。
*   **凹凸性**：
    *   若 $f''(x) > 0$，則 $f(x)$ 在該區間是凹向上（或稱為「凸」）。
    *   若 $f''(x) < 0$，則 $f(x)$ 在該區間是凹向下（或稱為「凹」）。
*   **反曲點**：在函數凹凸性改變的點，如果 $f''(x)$ 存在且為零，或 $f''(x)$ 不存在，則該點為反曲點。

#### 3.5 微分與切線斜率

*   **幾何意義**：正如定義所述，導數 $f'(x_0)$ 精確地表示了函數 $f(x)$ 在點 $(x_0, f(x_0))$ 處的切線斜率。這使得我們能夠寫出曲線在某一點的切線方程式：$y - f(x_0) = f'(x_0)(x - x_0)$。

### 4. 進階微分技巧與應用

#### 4.1 高階導數

如果函數 $f(x)$ 的導數 $f'(x)$ 仍然是可微的，我們可以再對 $f'(x)$ 求導，得到「二階導數」，記為 $f''(x)$ 或 $\frac{d^2 y}{dx^2}$。依此類推，可以得到三階導數 $f'''(x)$ 或 $\frac{d^3 y}{dx^3}$，以及更高階的導數。

*   **物理意義**：若 $s(t)$ 是位置函數，則 $s'(t)$ 是速度函數，而 $s''(t)$ 則是加速度函數。
*   **應用**：高階導數用於泰勒級數、函數圖形的凹凸性分析等。

-----

#### 4.2 隱函數微分 (Implicit Differentiation)

當一個函數無法直接表示為 $y=f(x)$ 的形式（例如 $x^2 + y^2 = 25$），而是 $F(x, y) = 0$ 的形式時，我們可以使用隱函數微分來求 $\frac{dy}{dx}$。其核心思想是將 $y$ 視為 $x$ 的函數 $y(x)$，然後對方程式兩邊同時對 $x$ 求導，並應用鏈鎖法則。

**例子**：求圓 $x^2 + y^2 = 25$ 在點 $(3, 4)$ 的切線斜率。
對兩邊對 $x$ 求導：
$$\frac{d}{dx}(x^2) + \frac{d}{dx}(y^2) = \frac{d}{dx}(25)$$
$$2x + 2y \frac{dy}{dx} = 0$$
$$2y \frac{dy}{dx} = -2x$$
$$\frac{dy}{dx} = -\frac{2x}{2y} = -\frac{x}{y}$$
在點 $(3, 4)$ 處，切線斜率為 $\frac{dy}{dx} = -\frac{3}{4}$。

-----

#### 4.3 相關變率 (Related Rates)

相關變率問題涉及兩個或多個彼此相關的量，這些量都是時間的函數。給定其中一個量相對於時間的變化率，我們需要找出另一個量相對於時間的變化率。

**解題步驟**：
1.  畫圖（若適用）並標出所有已知和未知量。
2.  寫出這些量之間的關係方程式。
3.  對方程式兩邊同時對時間 $t$ 求導（通常使用鏈鎖法則）。
4.  代入已知值，解出所需的變化率。

**例子**：一個氣球以 $10 \, \text{cm/s}$ 的速率充氣，問當半徑為 $5 \, \text{cm}$ 時，氣球表面積的變化率是多少？（球體體積 $V = \frac{4}{3}\pi r^3$，表面積 $A = 4\pi r^2$）
1.  已知 $\frac{dV}{dt} = 10 \, \text{cm/s}$。求當 $r=5 \, \text{cm}$ 時的 $\frac{dA}{dt}$。
2.  關係方程式：$V = \frac{4}{3}\pi r^3$ 和 $A = 4\pi r^2$。
3.  對時間 $t$ 求導：
    *   $\frac{dV}{dt} = \frac{d}{dt}\left(\frac{4}{3}\pi r^3\right) = 4\pi r^2 \frac{dr}{dt}$
    *   $\frac{dA}{dt} = \frac{d}{dt}(4\pi r^2) = 8\pi r \frac{dr}{dt}$
4.  首先從 $\frac{dV}{dt}$ 找出 $\frac{dr}{dt}$：
    $10 = 4\pi r^2 \frac{dr}{dt}$
    $\frac{dr}{dt} = \frac{10}{4\pi r^2} = \frac{5}{2\pi r^2}$
    當 $r=5$ 時，$\frac{dr}{dt} = \frac{5}{2\pi (5)^2} = \frac{5}{50\pi} = \frac{1}{10\pi} \, \text{cm/s}$。
5.  現在代入 $\frac{dA}{dt}$ 的公式：
    $\frac{dA}{dt} = 8\pi r \frac{dr}{dt} = 8\pi (5) \left(\frac{1}{10\pi}\right) = 40\pi \cdot \frac{1}{10\pi} = 4 \, \text{cm}^2\text{/s}$。
因此，當半徑為 $5 \, \text{cm}$ 時，氣球表面積的變化率是 $4 \, \text{cm}^2\text{/s}$。

-----

#### 4.4 線性逼近與微分 (Linear Approximation and Differentials)

*   **線性逼近**：在點 $x_0$ 附近，函數 $f(x)$ 可以用其切線方程式來近似：
    $$f(x) \approx L(x) = f(x_0) + f'(x_0)(x - x_0)$$
    這在估計函數值或處理複雜函數時非常有用。

*   **微分 (Differentials)**：$dy = f'(x) dx$。
    $dx$ 代表 $x$ 的微小變化量，而 $dy$ 代表函數 $y$ 對應的近似變化量。這常用於誤差分析。
    例如，如果 $y = x^2$，則 $dy = 2x \, dx$。當 $x$ 從 $5$ 變為 $5.1$ ($dx = 0.1$) 時，$\Delta y \approx dy = 2(5)(0.1) = 1$。
    實際變化量是 $(5.1)^2 - 5^2 = 26.01 - 25 = 1.01$，近似值 $1$ 與之非常接近。

### 5. 常見錯誤與澄清

學習微分的過程中，學生常會遇到一些普遍的錯誤和誤解。

#### 5.1 混淆導數與極限

*   **錯誤**：認為導數就是極限，忽略了它特指「變化率的極限」。
*   **澄清**：極限是一個廣泛的概念，它描述了函數在某一點的行為趨勢。導數是極限的一個特定應用，即用來定義瞬時變化率。所有的導數都是極限，但不是所有的極限都是導數。

#### 5.2 誤用鏈鎖法則

*   **錯誤**：在微分複合函數時，忘記或錯誤地應用鏈鎖法則。例如，將 $(e^{2x})'$ 誤算為 $e^{2x}$，而不是 $e^{2x} \cdot (2x)' = 2e^{2x}$。
*   **澄清**：鏈鎖法則適用於「函數的函數」。如果函數是 $f(g(x))$ 的形式，則必須先對外層函數 $f$ 求導（將 $g(x)$ 視為一個整體），再乘以內層函數 $g(x)$ 的導數。

#### 5.3 忽略定義域限制

*   **錯誤**：在求導數後，忘記考慮原函數和導數函數的定義域。例如，$(\ln x)' = \frac{1}{x}$，但 $\ln x$ 的定義域是 $x>0$，所以其導數也只在 $x>0$ 時有意義。
*   **澄清**：導數的定義域不能超出原函數的定義域。此外，如果導數公式中出現分母，還需確保分母不為零。

#### 5.4 認為所有連續函數都可微

*   **錯誤**：根據「可微必連續」的定理，錯誤推斷「連續必可微」。
*   **澄清**：這是一個單向推論。例如，函數 $f(x) = |x|$ 在 $x=0$ 處是連續的，但其圖形在 $x=0$ 有一個尖點，導致左右導數不相等，因此在該點不可微。

#### 5.5 錯誤的三角函數微分符號

*   **錯誤**：混淆 $\sin^2 x$ 和 $\sin(x^2)$ 的微分。
    *   $(\sin^2 x)' = (\sin x \cdot \sin x)' = 2 \sin x \cos x$ (使用積法則或鏈鎖法則)
    *   $(\sin(x^2))' = \cos(x^2) \cdot (x^2)' = 2x \cos(x^2)$ (使用鏈鎖法則)
*   **澄清**：仔細區分函數的形式。$\sin^n x$ 是 $(\sin x)^n$ 的簡寫，需要使用鏈鎖法則和冪法則。$\sin(g(x))$ 則需要使用鏈鎖法則。

#### 5.6 對於 $e$ 和 $\ln$ 的混淆

*   **錯誤**：將 $(e^x)' = e^x$ 錯誤地推廣到 $(a^x)' = a^x$。
*   **澄清**：只有基數為自然常數 $e$ 時，其導數才等於自身。對於一般指數函數 $a^x$，其導數為 $a^x \ln a$。這是一個常見的記憶性錯誤。類似地，$(\log_a x)' = \frac{1}{x \ln a}$，而只有基數為 $e$ 時， $(\ln x)' = \frac{1}{x}$。

### 6. 小練習（附詳解）

#### 小練習 1

求函數 $f(x) = 3x^4 - 2x^2 + 5x - 7$ 的導數。

**詳解**：
1.  根據和差法則，我們可以對函數的每一項分別求導。
2.  對 $3x^4$ 求導：利用常數倍法則和冪函數法則，$\frac{d}{dx}(3x^4) = 3 \cdot 4x^{4-1} = 12x^3$。
3.  對 $-2x^2$ 求導：利用常數倍法則和冪函數法則，$\frac{d}{dx}(-2x^2) = -2 \cdot 2x^{2-1} = -4x$。
4.  對 $5x$ 求導：利用常數倍法則和冪函數法則（$x^1$），$\frac{d}{dx}(5x) = 5 \cdot 1x^{1-1} = 5x^0 = 5 \cdot 1 = 5$。
5.  對常數項 $-7$ 求導：常數的導數為 $0$，$\frac{d}{dx}(-7) = 0$。
6.  將所有導數相加：
    $f'(x) = 12x^3 - 4x + 5 - 0$
    $f'(x) = 12x^3 - 4x + 5$

-----

#### 小練習 2

求函數 $g(x) = x \sin(x^2)$ 的導數。

**詳解**：
1.  觀察函數結構，這是一個積的形式 $u(x)v(x)$，其中 $u(x) = x$ 且 $v(x) = \sin(x^2)$。因此需要使用積法則。
2.  首先，求 $u(x)$ 的導數：$u'(x) = \frac{d}{dx}(x) = 1$。
3.  接著，求 $v(x)$ 的導數 $v'(x) = \frac{d}{dx}(\sin(x^2))$。
    *   這裡 $v(x)$ 是一個複合函數，外層函數是 $\sin(\cdot)$，內層函數是 $x^2$。因此需要使用鏈鎖法則。
    *   對外層函數求導：$\cos(\cdot)$。
    *   對內層函數 $x^2$ 求導：$2x$。
    *   將兩者相乘：$v'(x) = \cos(x^2) \cdot (2x) = 2x \cos(x^2)$。
4.  將 $u'(x), v(x), u(x), v'(x)$ 代入積法則公式 $(uv)' = u'v + uv'$：
    $g'(x) = (1) \cdot \sin(x^2) + (x) \cdot (2x \cos(x^2))$
5.  簡化結果：
    $g'(x) = \sin(x^2) + 2x^2 \cos(x^2)$

-----

#### 小練習 3

利用隱函數微分，求 $x^3 + y^3 = 6xy$ 在點 $(3, 3)$ 處的 $\frac{dy}{dx}$。

**詳解**：
1.  對方程式兩邊同時對 $x$ 求導。記住將 $y$ 視為 $x$ 的函數 $y(x)$。
2.  對左邊求導：
    *   $\frac{d}{dx}(x^3) = 3x^2$
    *   $\frac{d}{dx}(y^3) = 3y^2 \frac{dy}{dx}$ (應用鏈鎖法則)
    所以，左邊導數為 $3x^2 + 3y^2 \frac{dy}{dx}$。
3.  對右邊 $6xy$ 求導：
    *   這是一個積的形式，使用積法則：$\frac{d}{dx}(6xy) = 6 \left( \frac{d}{dx}(x) \cdot y + x \cdot \frac{d}{dx}(y) \right)$
    *   $= 6 \left( 1 \cdot y + x \cdot \frac{dy}{dx} \right)$
    *   $= 6y + 6x \frac{dy}{dx}$
4.  將兩邊的導數等式列出：
    $3x^2 + 3y^2 \frac{dy}{dx} = 6y + 6x \frac{dy}{dx}$
5.  將所有含 $\frac{dy}{dx}$ 的項移到一邊，不含的項移到另一邊：
    $3y^2 \frac{dy}{dx} - 6x \frac{dy}{dx} = 6y - 3x^2$
6.  提出 $\frac{dy}{dx}$：
    $\frac{dy}{dx} (3y^2 - 6x) = 6y - 3x^2$
7.  解出 $\frac{dy}{dx}$：
    $\frac{dy}{dx} = \frac{6y - 3x^2}{3y^2 - 6x}$
    $\frac{dy}{dx} = \frac{3(2y - x^2)}{3(y^2 - 2x)}$
    $\frac{dy}{dx} = \frac{2y - x^2}{y^2 - 2x}$
8.  代入點 $(3, 3)$：
    $\frac{dy}{dx} = \frac{2(3) - (3)^2}{(3)^2 - 2(3)} = \frac{6 - 9}{9 - 6} = \frac{-3}{3} = -1$
因此，在點 $(3, 3)$ 處的切線斜率為 $-1$。

### 7. 延伸閱讀與參考

#### 7.1 推薦教材與書籍

*   **Thomas' Calculus (托馬斯微積分)**：經典的微積分教材，內容詳盡，有許多圖例和例題。
*   **Calculus by James Stewart (斯圖爾特微積分)**：另一本廣受好評的教材，寫作風格清晰，習題豐富。
*   **MIT OpenCourseWare - Single Variable Calculus (麻省理工學院開放課程 - 單變量微積分)**：提供免費的課程講義、影音教學和習題，是自學者的絕佳資源。

#### 7.2 微分學的應用領域

微分學在科學、工程、經濟和統計學等領域有無數的應用：

*   **物理學**：描述運動、速度、加速度、力與能量的變化。
*   **工程學**：優化設計、分析系統響應、控制系統行為（如自動駕駛、機器人學）。
*   **經濟學**：邊際成本、邊際收益、彈性分析、利潤最大化等。
*   **生物學**：人口增長模型、藥物在體內的代謝速率。
*   **醫學**：腫瘤生長、疾病傳播模型。
*   **電腦科學**：機器學習中的梯度下降法、影像處理。
*   **統計學**：最大概似估計。

#### 7.3 微積分的歷史

微分學的發展可以追溯到十七世紀，主要歸功於艾薩克·牛頓（Isaac Newton）和戈特弗里德·威廉·萊布尼茨（Gottfried Wilhelm Leibniz）的獨立貢獻。他們各自發展了微積分的基本原理，並為其應用奠定了基礎。