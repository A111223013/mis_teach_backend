### 2-2 資料庫與資訊管理

本章將帶領你認識資料、資訊、資料庫及其管理系統的核心概念，探討常見的資料庫類型，特別是現今主流的關聯式資料庫，並了解其在資訊管理中的重要性。

-----

#### 1. 核心概念與定義

##### 1.1 什麼是資料 (Data)？

*   **定義/核心觀念：** 資料是指未經處理、分析、組織的原始事實、數字、文字、符號、圖像、音訊等。它本身可能不具備直接的意義或價值，需要經過處理才能轉化為有用的資訊。
*   **例子或推導：**
    *   一個學生的考試分數：`85`, `72`, `90`
    *   顧客的電話號碼：`0912-345-678`
    *   一張未標註內容的照片檔
    *   商品的條碼：`4710123456789`
*   **與相鄰概念的關聯：** 資料是資訊的基礎。沒有資料，就無法產生資訊。

##### 1.2 什麼是資訊 (Information)？

*   **定義/核心觀念：** 資訊是經過收集、整理、分析、解釋和組織後，具有特定意義和價值的資料。它能夠幫助人們理解事物、做出判斷或採取行動。
*   **例子或推導：**
    *   將學生的各科分數處理後，計算出平均成績並標註及格與否，形成一份學生成績報告。
    *   將顧客的電話號碼與姓名、地址等資料整合，用於寄送促銷訊息。
    *   一張標註了拍攝地點、日期與主題的照片。
    *   將商品條碼與庫存數量、銷售量結合，產生一份銷售分析報告。
*   **與相鄰概念的關聯：** 資訊是從資料中萃取和加工而來，其目的是為了支持決策和知識的產生。資料是原材料，資訊是加工後的成品。

##### 1.3 什麼是資料庫 (Database)？

*   **定義/核心觀念：** 資料庫是一個有組織、結構化地儲存相關資料的集合。它旨在高效地儲存、管理、查詢、更新和刪除資料，並提供資料共享與安全控制。
*   **核心觀念：**
    *   **結構化：** 資料以預定的格式和規則儲存，而非隨意堆疊。
    *   **相關性：** 儲存的資料通常彼此關聯，形成一個有意義的整體。
    *   **共享性：** 多個使用者或應用程式可以同時存取和使用資料。
    *   **持久性：** 資料一旦儲存，除非明確刪除，否則會持續存在。
*   **例子或推導：**
    *   學校用來儲存所有學生學籍、成績、選課紀錄的系統。
    *   銀行用來記錄客戶帳戶、交易明細的系統。
    *   圖書館用來管理所有書籍、讀者借閱狀況的系統。
*   **與相鄰概念的關聯：** 資料庫是實現資訊管理的核心工具。它提供了一個穩健的基礎，讓資料得以被有效管理並轉化為有用的資訊。

##### 1.4 什麼是資料庫管理系統 (Database Management System, DBMS)？

*   **定義/核心觀念：** 資料庫管理系統是一種軟體，用於建立、維護、控制和操作資料庫。它充當使用者（或應用程式）與資料庫之間的介面。
*   **核心功能：**
    *   **資料定義 (Data Definition)：** 允許使用者定義資料庫的結構、資料類型、完整性約束等（例如：建立表格、設定欄位屬性）。
    *   **資料操作 (Data Manipulation)：** 允許使用者對資料進行查詢、新增、修改、刪除（例如：使用 SQL 語句）。
    *   **資料控制 (Data Control)：** 負責資料的安全性、完整性、併行控制和恢復（例如：使用者權限管理、交易管理）。
*   **例子或推導：**
    *   **MySQL：** 常見的開源關聯式資料庫管理系統。
    *   **PostgreSQL：** 另一款強大且功能豐富的開源關聯式資料庫管理系統。
    *   **Oracle Database：** 企業級商用資料庫管理系統。
    *   **Microsoft SQL Server：** 微軟開發的關聯式資料庫管理系統。
    *   **Microsoft Access：** 個人或小型團隊使用的桌面型資料庫管理系統。
*   **與相鄰概念的關聯：** DBMS 是操作資料庫的「引擎」，它讓資料庫的建立和使用變得可行和高效。沒有 DBMS，資料庫就只是一堆雜亂無章的檔案。

-----

#### 2. 資料庫的類型

資料庫依據其資料組織方式和結構模型，可分為多種類型。了解這些類型有助於選擇最適合特定應用場景的資料庫。

##### 2.1 階層式資料庫 (Hierarchical Database)

*   **定義：** 資料以樹狀結構組織，呈現一對多的父子關係。每個子節點只有一個父節點。
*   **典型例子：** 早期網路檔案系統、Windows 註冊表 (Registry)。
*   **與相鄰概念的關聯：** 結構簡單直觀，但處理多對多關係或複雜查詢時彈性較差。是資料庫發展的早期模型。

##### 2.2 網路式資料庫 (Network Database)

*   **定義：** 是階層式資料庫的延伸，允許一個子節點擁有多個父節點，形成網狀結構，可表示更複雜的資料關係（多對多）。
*   **典型例子：** 相較於關聯式資料庫，現代應用中已較少直接採用。
*   **與相鄰概念的關聯：** 比階層式資料庫更具彈性，但其複雜的資料結構和操作方式仍較難理解和使用。

##### 2.3 關聯式資料庫 (Relational Database)

*   **定義：** 資料以二維表格（稱為「關聯」或「表」）的形式儲存，每個表格包含列（記錄）和欄（屬性）。表格之間透過共同的欄位建立關聯。
*   **核心觀念：** 這是目前最主流、應用最廣泛的資料庫類型，理解其核心概念對於掌握資料庫至關重要。
    *   **表格 (Table)：** 儲存特定類型資料的二維結構，如「學生」表、「課程」表。
    *   **欄位 (Column) / 屬性 (Attribute)：** 表格中的垂直部分，代表實體的某個特性，如「學號」、「姓名」。
    *   **記錄 (Record) / 列 (Row) / 元組 (Tuple)：** 表格中的水平部分，代表一個實體的完整資料，如一個學生的所有資訊。
    *   **主鍵 (Primary Key, PK)：** 能唯一識別表格中每一條記錄的一個或一組欄位，其值不可重複且不能為空。
    *   **外來鍵 (Foreign Key, FK)：** 一個表格中參照（連結到）另一個表格主鍵的欄位，用於建立表格之間的關係。
*   **典型例子：** 學校的學籍管理系統、電商網站的商品訂單系統、銀行的客戶交易系統。
*   **與相鄰概念的關聯：** 關聯式資料庫模型簡潔清晰，易於理解和實作，且有強大的理論基礎。其標準查詢語言 SQL 極大地簡化了資料操作。

##### 2.4 物件導向資料庫 (Object-Oriented Database, OODB)

*   **定義：** 試圖將物件導向程式設計（如封裝、繼承、多型）的概念引入資料庫，直接儲存程式中的物件。
*   **與相鄰概念的關聯：** 雖然在特定領域有應用，但其複雜性使其未能取代關聯式資料庫成為主流。

##### 2.5 NoSQL 資料庫 (Not only SQL Database)

*   **定義：** 一類非關聯式資料庫的總稱，其資料儲存結構多樣化，不拘泥於傳統的表格形式。主要為應對大數據、高併發、高擴展性等需求而生。
*   **常見類型：**
    *   **鍵值 (Key-Value) 資料庫：** 如 Redis。
    *   **文件 (Document) 資料庫：** 如 MongoDB，以 JSON 或類似文件格式儲存資料。
    *   **寬列 (Column-Family) 資料庫：** 如 Cassandra。
    *   **圖形 (Graph) 資料庫：** 如 Neo4j，用於處理實體之間複雜的關係網路。
*   **與相鄰概念的關聯：** NoSQL 資料庫的出現，是為了彌補關聯式資料庫在某些特定情境（如巨量資料、非結構化資料、超高併發）下的不足。它與關聯式資料庫通常是互補而非取代關係。

-----

#### 3. 關聯式資料庫的核心概念與實作

關聯式資料庫是目前最普及的資料庫類型，深入理解其核心概念對於資料庫的學習和應用至關重要。

##### 3.1 表格 (Table) / 關聯 (Relation)

*   **定義：** 在關聯式資料庫中，所有資料都以二維表格的形式組織。每個表格代表一個實體類型（例如：學生、課程、訂單）。
*   **結構：** 由多個欄位（行）和多個記錄（列）組成。

##### 3.2 欄位 (Column) / 屬性 (Attribute)

*   **定義：** 表格的垂直部分，代表該實體的一個特定特性或屬性。每個欄位都有一個名稱和一個資料類型（例如：整數、字串、日期）。
*   **例子：** `學生`表格中的`學號`、`姓名`、``生日`、`性別`。

##### 3.3 記錄 (Record) / 列 (Row) / 元組 (Tuple)

*   **定義：** 表格的水平部分，代表一個實體的完整資訊。每條記錄由各個欄位的值組成。
*   **例子：** `學生`表格中，一條記錄可能包含某位學生的`學號`、`姓名`、`生日`和`性別`。

##### 3.4 主鍵 (Primary Key, PK)

*   **定義：** 一個或一組欄位，其值能夠在表格中唯一識別每一條記錄。
*   **特性：**
    1.  **唯一性 (Uniqueness)：** 表格中任意兩條記錄的主鍵值都不能相同。
    2.  **非空性 (Non-nullability)：** 主鍵欄位的值不能為空 (NULL)。
    3.  **穩定性：** 主鍵值一旦設定，應盡量避免修改。
*   **例子：** 在`學生`表格中，`學號`通常被設計為主鍵，因為每個學生的學號都是唯一的。
*   **重要性：** 主鍵是關聯式資料庫中識別記錄和建立表格之間關聯的關鍵。

##### 3.5 外來鍵 (Foreign Key, FK)

*   **定義：** 一個表格（稱為「子表」或「參照表」）中的欄位，其值參照（指向）另一個表格（稱為「父表」或「被參照表」）的主鍵。
*   **作用：** 用於建立兩個表格之間的關聯，實現資料的連結和一致性。
*   **特性：**
    1.  外來鍵的值必須在父表的主鍵中存在，或者為空 (NULL)。
    2.  外來鍵可以有多個，也可以包含重複值。
*   **例子：**
    *   假設有一個`課程`表格，其主鍵是`課程編號`。
    *   有一個`選課`表格，其中記錄了學生選修了哪些課程。`選課`表格中會有`學號`（參照`學生`表格的主鍵）和`課程編號`（參照`課程`表格的主鍵）。在這裡，`選課`表格的`課程編號`就是一個外來鍵。
*   **重要性：** 外來鍵是維持資料庫參照完整性的基石。

##### 3.6 資料完整性 (Data Integrity)

*   **定義：** 確保資料庫中資料的準確性、一致性和可靠性的一組規則。
*   **重要性：** 維護資料的品質，避免錯誤和矛盾的資料進入資料庫。
*   **主要類型：**
    1.  **實體完整性 (Entity Integrity)：** 規定表格的主鍵不能為空且必須唯一。
    2.  **參照完整性 (Referential Integrity)：** 規定外來鍵的值必須在父表的主鍵中存在，或為空。這確保了表格之間的連結是有效的。
    3.  **網域完整性 (Domain Integrity)：** 規定欄位的值必須符合其定義的資料類型和範圍（例如：年齡必須是正整數，性別只能是 '男' 或 '女'）。

-----

#### 4. 資料庫查詢語言 (SQL)

結構化查詢語言 (Structured Query Language, SQL) 是用於管理關聯式資料庫的標準化語言。它允許使用者定義、操作和控制資料庫。

##### 4.1 SQL 簡介

*   **定義：** SQL 是一種宣告式語言，讓使用者透過描述「想要什麼」而非「如何達成」來與資料庫互動。
*   **功能：**
    *   資料定義 (DDL)
    *   資料操作 (DML)
    *   資料控制 (DCL)

##### 4.2 資料定義語言 (Data Definition Language, DDL)

*   用於定義資料庫的結構、表格、索引、視圖等。
*   **`CREATE TABLE`：** 建立新表格。
    ```sql
    CREATE TABLE Students (
        StudentID INT PRIMARY KEY,
        Name VARCHAR(100),
        Major VARCHAR(50),
        EnrollmentDate DATE
    );
    ```
*   **`ALTER TABLE`：** 修改現有表格的結構（例如：新增、刪除欄位，修改欄位資料類型）。
    ```sql
    ALTER TABLE Students ADD COLUMN Email VARCHAR(100);
    ```
*   **`DROP TABLE`：** 刪除整個表格。
    ```sql
    DROP TABLE Students;
    ```

##### 4.3 資料操作語言 (Data Manipulation Language, DML)

*   用於對資料庫中的資料進行查詢、新增、修改和刪除。
*   **`SELECT`：** 從資料庫中檢索資料。這是最常用的 SQL 命令。
    ```sql
    SELECT Name, Major FROM Students WHERE StudentID = 12345;
    ```
*   **`INSERT`：** 向表格中新增記錄。
    ```sql
    INSERT INTO Students (StudentID, Name, Major, EnrollmentDate)
    VALUES (12345, '王小明', '資訊工程', '2023-09-01');
    ```
*   **`UPDATE`：** 修改表格中現有的記錄。
    ```sql
    UPDATE Students SET Major = '電機工程' WHERE StudentID = 12345;
    ```
*   **`DELETE`：** 從表格中刪除記錄。
    ```sql
    DELETE FROM Students WHERE StudentID = 12345;
    ```

##### 4.4 資料控制語言 (Data Control Language, DCL)

*   用於管理資料庫使用者權限和資料庫存取安全。
*   **`GRANT`：** 授予使用者特定權限（例如：查詢、修改資料的權限）。
*   **`REVOKE`：** 撤銷使用者的權限。

-----

#### 5. 資訊管理與決策

資料庫和 DBMS 只是資訊管理的工具。最終目標是有效地管理資訊，以支持組織的運作和決策。

##### 5.1 資訊系統 (Information System, IS)

*   **定義：** 資訊系統是一個由人、硬體、軟體、資料和網路組成的整合系統，其目的是收集、處理、儲存、分析和發布資訊，以支援組織的營運、管理和決策。
*   **與相鄰概念的關聯：** 資料庫是資訊系統的核心組件之一，負責資料的持久儲存和管理。沒有資料庫，資訊系統就無法有效運作。

##### 5.2 資訊管理的目標

*   **提供正確、即時、相關的資訊：** 確保管理者和使用者能夠獲得他們需要的、準確的、最新的資訊。
*   **支援組織決策：** 透過分析資訊，幫助組織做出更明智的戰略、戰術和營運決策。
*   **提高效率、降低成本：** 自動化資料處理流程，減少人工錯誤，優化資源配置。
*   **確保資料安全與隱私：** 保護敏感資料不被未經授權的存取、修改或洩露。

##### 5.3 資訊管理在現代社會的應用

*   **企業資源規劃 (ERP) 系統：** 整合企業各部門（生產、銷售、財務、人力資源）的資訊。
*   **客戶關係管理 (CRM) 系統：** 管理顧客資料、互動歷史，提升客戶服務。
*   **供應鏈管理 (SCM) 系統：** 優化從供應商到客戶的整個產品流動。
*   **電子商務：** 網站後台的商品、訂單、顧客資料管理。
*   **大數據分析與人工智慧：** 依賴於大規模資料的收集、儲存與處理。
*   **物聯網 (IoT)：** 從各類設備收集資料並進行分析與管理。

-----

#### 6. 小練習 (附詳解)

##### 小練習 1：概念配對

請將下列左側的術語與右側的描述或例子進行配對。

**術語：**
A. 資料 (Data)
B. 資訊 (Information)
C. 資料庫 (Database)
D. 資料庫管理系統 (DBMS)
E. 主鍵 (Primary Key)
F. 外來鍵 (Foreign Key)

**描述/例子：**
1.  將學生的學號、姓名、成績經過統計，生成一份班級成績單。
2.  學生考試的原始分數：`88`, `75`, `92`。
3.  儲存所有員工資料、訂單紀錄、產品資訊的集合。
4.  在`訂單`表格中，`客戶ID`欄位參照`客戶`表格的`客戶ID`欄位。
5.  `員工`表格中，`員工編號`欄位保證每個員工的編號都是唯一且非空的。
6.  用來建立、操作和管理資料庫的軟體，例如 MySQL。

---

**小練習 1 詳解：**

*   **A. 資料 (Data) $\rightarrow$ 2. 學生考試的原始分數：`88`, `75`, `92`。**
    *   **解釋：** 這是未經處理的原始數字，本身沒有直接的整體意義。
*   **B. 資訊 (Information) $\rightarrow$ 1. 將學生的學號、姓名、成績經過統計，生成一份班級成績單。**
    *   **解釋：** 這是經過處理、組織和分析後的資料，具有特定的意義和目的（了解班級成績狀況）。
*   **C. 資料庫 (Database) $\rightarrow$ 3. 儲存所有員工資料、訂單紀錄、產品資訊的集合。**
    *   **解釋：** 這是結構化、有組織地儲存相關資料的集合。
*   **D. 資料庫管理系統 (DBMS) $\rightarrow$ 6. 用來建立、操作和管理資料庫的軟體，例如 MySQL。**
    *   **解釋：** DBMS 是資料庫的軟體「管家」，負責其定義、操作和控制。
*   **E. 主鍵 (Primary Key) $\rightarrow$ 5. `員工`表格中，`員工編號`欄位保證每個員工的編號都是唯一且非空的。**
    *   **解釋：** 主鍵的核心特性就是唯一且非空，用來唯一識別記錄。
*   **F. 外來鍵 (Foreign Key) $\rightarrow$ 4. 在`訂單`表格中，`客戶ID`欄位參照`客戶`表格的`客戶ID`欄位。**
    *   **解釋：** 外來鍵用於在不同表格之間建立關聯，此處`客戶ID`將`訂單`與`客戶`表格連結起來。

-----

##### 小練習 2：關聯式資料庫設計

**情境：** 一所學校希望建立一個簡單的資料庫來管理學生的基本資料和他們選修的課程。

**要求：**
1.  設計兩個表格：`Students` (學生) 和 `Courses` (課程)。
2.  為每個表格定義至少三個有意義的欄位及其資料類型。
3.  為每個表格指定主鍵 ($\text{PK}$)。
4.  設計第三個表格 `Enrollments` (選課) 來記錄學生選修了哪些課程，並指定其主鍵和外來鍵 ($\text{FK}$)。
5.  使用 Markdown 表格形式畫出這三個表格的結構。

---

**小練習 2 詳解：**

1.  **設計 `Students` 表格：**
    *   **用途：** 儲存學生的基本資訊。
    *   **主鍵：** `StudentID`

| 欄位名稱    | 資料類型 (範例) | 說明                       | 鍵類型   |
| :---------- | :---------------- | :------------------------- | :------- |
| `StudentID` | `INT`             | 學生的唯一識別號碼         | `PK`     |
| `Name`      | `VARCHAR(100)`    | 學生姓名                   |          |
| `Major`     | `VARCHAR(50)`     | 主修科系                   |          |
| `BirthDate` | `DATE`            | 出生日期                   |          |

2.  **設計 `Courses` 表格：**
    *   **用途：** 儲存課程的基本資訊。
    *   **主鍵：** `CourseID`

| 欄位名稱    | 資料類型 (範例) | 說明                       | 鍵類型   |
| :---------- | :---------------- | :------------------------- | :------- |
| `CourseID`  | `INT`             | 課程的唯一識別號碼         | `PK`     |
| `Title`     | `VARCHAR(100)`    | 課程名稱                   |          |
| `Credits`   | `INT`             | 學分數                     |          |
| `Instructor`| `VARCHAR(100)`    | 授課老師                   |          |

3.  **設計 `Enrollments` 表格：**
    *   **用途：** 記錄學生選修了哪些課程。這是一個連接 `Students` 和 `Courses` 表格的橋樑，處理學生與課程之間的「多對多」關係。
    *   **主鍵：** `EnrollmentID` (或 `(StudentID, CourseID)` 複合主鍵)
    *   **外來鍵：**
        *   `StudentID` 參照 `Students` 表格的 `StudentID`。
        *   `CourseID` 參照 `Courses` 表格的 `CourseID`。

| 欄位名稱       | 資料類型 (範例) | 說明                       | 鍵類型         |
| :------------- | :---------------- | :------------------------- | :------------- |
| `EnrollmentID` | `INT`             | 選課記錄的唯一識別號碼     | `PK`           |
| `StudentID`    | `INT`             | 學生編號                   | `FK` (參照 `Students.StudentID`) |
| `CourseID`     | `INT`             | 課程編號                   | `FK` (參照 `Courses.CourseID`)   |
| `EnrollDate`   | `DATE`            | 選課日期                   |                |
| `Grade`        | `VARCHAR(2)`      | 課程成績 (例如 'A', 'B+') |                |

**解釋：**
*   `Students` 表和 `Courses` 表分別儲存了學生和課程的獨立資訊，它們各自有唯一的主鍵。
*   `Enrollments` 表透過包含 `StudentID` 和 `CourseID` 這兩個外來鍵，將學生與其選修的課程連結起來。這樣，我們就可以查詢「哪個學生選了哪門課」以及「某門課有哪些學生選修」。
*   `EnrollmentID` 可以作為一個獨立的主鍵，提供更彈性的設計；或者，`(StudentID, CourseID)` 的組合也可以作為一個複合主鍵，因為一個學生不能選同一門課兩次。此處我們採用 `EnrollmentID` 作為單一主鍵。

-----

#### 7. 常見錯誤與澄清

##### 7.1 資料 (Data) 與資訊 (Information) 的混淆

*   **錯誤：** 認為資料和資訊是同義詞。
*   **澄清：** **資料是原始、未經處理的事實**，例如一個數字 `95`。**資訊是經過處理、有意義的資料**，例如「某學生的數學成績是 95 分，達到優秀水平」。資訊能回答問題、提供洞見，而資料通常不能。

##### 7.2 資料庫 (Database) 與資料庫管理系統 (DBMS) 的混淆

*   **錯誤：** 將資料庫軟體本身稱為資料庫。
*   **澄清：** **資料庫是儲存資料的集合**（例如一個包含許多表格的檔案）。**DBMS 是一個軟體程式**，用於建立、管理和操作這些資料庫（例如 MySQL、Oracle）。DBMS 是操作資料庫的工具，資料庫是 DBMS 管理的內容。

##### 7.3 表格、欄位、記錄的誤解

*   **錯誤：** 混淆表格、欄位、記錄的含義或彼此關係。
*   **澄清：**
    *   **表格 (Table)** 是整個資料的容器，像一張大的 Excel 表。
    *   **欄位 (Column)** 是表格中的垂直部分，代表一個特定屬性（例如「姓名」、「學號」），像 Excel 表的列標題。
    *   **記錄 (Record)** 是表格中的水平部分，代表一個完整實體的所有資料（例如「張三，學號 A001，數學 80 分」），像 Excel 表的一行。

##### 7.4 主鍵 (Primary Key) 與外來鍵 (Foreign Key) 的區別

*   **錯誤：** 分不清兩者的功能和特性。
*   **澄清：**
    *   **主鍵 (PK)：** 用於**唯一識別**表格中的每一條記錄，且值必須**唯一且非空**。它是一個表格的「身分證號碼」。
    *   **外來鍵 (FK)：** 用於**建立兩個表格之間的關聯**，它是一個表格中參照另一個表格主鍵的欄位。它是一個表格指向另一個表格的「連結」。外來鍵的值可以重複，也可以為空（如果允許）。

-----

#### 8. 延伸閱讀/參考

*   **書籍：**
    *   《資料庫系統概念》(Database System Concepts) by Abraham Silberschatz, Henry F. Korth, S. Sudarshan (這是一本經典的資料庫教材，內容較為深入，適合大學生或有志深入學習者。)
    *   《SQL必知必會》(Sams Teach Yourself SQL in 10 Minutes) by Ben Forta (SQL 入門的實用書籍。)
*   **線上資源：**
    *   **W3Schools SQL 教程：** [https://www.w3schools.com/sql/](https://www.w3schools.com/sql/) (提供大量互動式範例，適合初學者學習 SQL。)
    *   **Codecademy SQL 課程：** (提供互動式程式碼撰寫練習，幫助學習者動手實作。)
    *   **Khan Academy 資料庫課程：** (提供基礎概念講解，通常配有影片說明。)
*   **實際體驗：**
    *   安裝一個輕量級的資料庫管理系統，例如 **SQLite** 或 **MySQL Community Server**，並嘗試使用 SQL 語句建立表格、插入資料、執行查詢。這將大大加深你對資料庫的理解。