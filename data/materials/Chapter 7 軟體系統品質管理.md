# 第七章 軟體系統品質管理

本章將深入探討軟體系統品質管理的核心原則、方法與實踐，旨在幫助讀者理解如何在軟體開發生命週期的各個階段中確保並提升軟體產品的品質，從而滿足使用者需求並達成商業目標。

### 1. 核心概念與定義

#### 1.1 軟體品質的定義

軟體品質是一個多維度的概念，通常指軟體產品或服務滿足其規定和隱含需求的程度。它不僅涉及軟體的功能性，也包含其非功能性特徵，例如可靠性、效率、可用性等。

-----

**核心觀念：**
國際標準組織 (ISO) 和國際電氣電子工程師協會 (IEEE) 對軟體品質有廣泛接受的定義：
*   **ISO/IEC 25010 (SQuaRE - System and Software Quality Requirements and Evaluation)** 定義了八個主要品質特性：
    1.  **功能性 (Functionality)**：軟體在指定條件下執行所需功能的能力。
    2.  **可靠性 (Reliability)**：軟體在指定時間內，在指定條件下維持其性能水平的能力。
    3.  **可用性 (Usability)**：使用者能夠理解、學習、操作和吸引人的程度。
    4.  **效率 (Performance Efficiency)**：軟體在給定資源條件下執行其性能的能力（時間行為、資源利用率）。
    5.  **維護性 (Maintainability)**：軟體能夠被修改的能力，包括錯誤修正、功能增強或適應環境變化。
    6.  **可移植性 (Portability)**：軟體能夠在不同環境中有效運行的能力。
    7.  **安全性 (Security)**：軟體保護資訊和資料免受未授權訪問的能力。
    8.  **相容性 (Compatibility)**：軟體與其他系統或組件共存和互動的能力。

**例子：**
*   **功能性例子：** 購物車軟體能正確計算商品總價並處理支付。
*   **可靠性例子：** 銀行交易系統在一週內沒有發生任何服務中斷。
*   **可用性例子：** 一款手機應用程式的介面直觀易懂，新使用者無需教學即可上手。
*   **安全性例子：** 網站登入頁面使用 HTTPS 加密，且具備多因素驗證功能。

**與相鄰概念的關聯：**
軟體品質是軟體工程的核心目標之一。它與需求工程緊密相連，因為高品質軟體必須能滿足已定義的需求（包含功能性與非功能性）。同時，它也是軟體測試、軟體維護等活動的指導原則和最終衡量標準。

-----

#### 1.2 軟體品質管理

軟體品質管理 (Software Quality Management, SQM) 是一套有系統的方法，旨在確保軟體產品或服務符合預期的品質標準。它涵蓋了品質規劃、品質保證和品質控制等一系列活動，貫穿整個軟體開發生命週期。

-----

**核心觀念：**
SQM 的三大核心組成部分：
1.  **品質規劃 (Quality Planning)**：定義軟體專案的品質目標和標準，並規劃如何達到這些目標的過程。這包括選擇適當的品質模型、定義度量指標、建立品質活動的時間表和資源分配。
2.  **品質保證 (Quality Assurance, QA)**：一套預防性的、過程導向的活動，旨在確保開發過程遵循既定的標準和程序，從而避免缺陷的產生。QA 強調改進開發過程本身。
3.  **品質控制 (Quality Control, QC)**：一套檢測性的、產品導向的活動，旨在識別並修正軟體產品中的缺陷，以確保其符合品質要求。QC 通常透過測試、審查等活動進行。

**例子：**
*   **品質規劃例子：** 在專案啟動時，決定採用 ISO 25010 作為品質模型，並設定目標：系統平均無故障時間 (MTTF) 需達到 500 小時，使用者滿意度評分至少 4 分（滿分 5 分）。
*   **品質保證例子：** 進行程式碼審查 (Code Review)，確保程式碼符合規範；實施靜態程式碼分析，檢查潛在的缺陷和安全漏洞；定期審核開發流程是否符合 Scrum 規範。
*   **品質控制例子：** 執行單元測試、整合測試、系統測試和使用者接受度測試 (UAT)；對軟體進行壓力測試以檢查其性能極限。

**與相鄰概念的關聯：**
*   **品質保證 (QA) 與 品質控制 (QC) 與 測試 (Testing)：**
    *   **QA** 著重於「如何做」，是預防性的，確保過程正確。
    *   **QC** 著重於「結果是否正確」，是檢測性的，找出產品缺陷。
    *   **Testing** 是 QC 的主要工具之一，透過執行軟體來發現缺陷。測試活動會產生資料，這些資料可以用於 QC 的決策，也可以反饋給 QA 以改進過程。

-----

### 2. 典型例子與轉換/推導

#### 2.1 軟體品質成本分析

品質成本是指為確保和維持產品品質而花費的成本，以及未能滿足品質要求所造成的損失。理解品質成本有助於決策者在品質投入與風險之間取得平衡。

-----

**核心觀念：**
品質成本通常分為四大類：
1.  **預防成本 (Prevention Costs)**：為防止缺陷發生而進行的投資。
    *   例子：品質規劃、需求審查、設計審查、程式碼審查、培訓、供應商評估、過程改進。
2.  **鑑定成本 (Appraisal Costs)**：為評估產品是否符合品質標準而進行的投資。
    *   例子：各種測試（單元、整合、系統、性能等）、檢查、審計、資料分析。
3.  **內部失敗成本 (Internal Failure Costs)**：在產品交付給客戶之前，因發現缺陷而造成的成本。
    *   例子：缺陷修正（重工）、報廢、重新測試、故障分析。
4.  **外部失敗成本 (External Failure Costs)**：在產品交付給客戶之後，因缺陷而造成的成本。
    *   例子：客戶投訴處理、保固維修、產品召回、商譽損失、法律訴訟。

**推導：品質成本模型**
一般而言，隨著預防成本和鑑定成本的增加，內部失敗成本和外部失敗成本會顯著降低。理想的品質管理目標是在總品質成本達到最低點時，同時保持可接受的品質水平。

$$
\text{總品質成本} = \text{預防成本} + \text{鑑定成本} + \text{內部失敗成本} + \text{外部失敗成本}
$$

**例子：**
一個開發新電商網站的專案：
*   **預防成本：** 花費 50 人天進行需求分析和設計審查，聘請外部顧問進行安全培訓。
*   **鑑定成本：** 投入 100 人天進行功能測試、性能測試和安全性滲透測試。
*   **內部失敗成本：** 在測試階段發現支付模組有 bug，花費 30 人天進行修正和重新測試。
*   **外部失敗成本：** 網站上線後，因結帳流程偶爾失敗導致 5% 的客戶流失，造成每月營收損失 10 萬元，並需額外投入 20 人天進行緊急修復和公關應對。

這個例子清晰地展示了，如果預防和鑑定做得不足，可能導致巨大的外部失敗成本。

-----

### 3. 與相鄰概念的關聯

#### 3.1 軟體品質管理與軟體開發生命週期 (SDLC)

軟體品質管理不應是一個獨立的階段，而應該貫穿於軟體開發生命週期的所有階段。

-----

**核心觀念：**
無論是瀑布模型、敏捷開發還是迭代開發，品質管理活動都應整合其中：

*   **需求階段：** 確保需求的完整性、一致性、可測試性。這是「預防性」品質活動的起點。
    *   **QA 活動：** 需求審查、規格審核。
*   **設計階段：** 確保設計的正確性、模組化、可維護性。
    *   **QA 活動：** 設計審查、架構評估。
*   **實作階段：** 確保程式碼的品質、規範、安全性。
    *   **QA 活動：** 程式碼審查、靜態程式碼分析、單元測試規範。
    *   **QC 活動：** 單元測試、整合測試。
*   **測試階段：** 執行各種測試以發現並修正缺陷，驗證軟體符合需求。
    *   **QC 活動：** 系統測試、使用者接受度測試 (UAT)、性能測試、安全測試。
*   **部署與維護階段：** 監控軟體運行品質，處理缺陷和變更請求，持續改進。
    *   **QA/QC 活動：** 缺陷追蹤、生產環境監控、迴歸測試。

**與相鄰概念的關聯：**
品質管理是確保 SDLC 成功的關鍵要素。若品質管理薄弱，即使開發過程再快，也可能因為交付低品質產品而導致專案失敗。在敏捷開發中，品質管理被整合到每個衝刺 (Sprint) 中，透過持續整合、自動化測試和頻繁的反饋來實現「內建品質」。

-----

#### 3.2 品質度量與指標

品質度量是量化評估軟體品質的工具，透過收集和分析數據，我們可以監控品質趨勢，識別問題區域，並評估改進措施的有效性。

-----

**核心觀念：**
常見的軟體品質度量指標：
1.  **缺陷密度 (Defect Density)**：每千行程式碼 (KLOC) 或每個功能點 (Function Point) 中的缺陷數量。
    *   公式：$$ \text{缺陷密度} = \frac{\text{總缺陷數}}{\text{程式碼行數 (KLOC) 或功能點數}} $$
2.  **平均無故障時間 (Mean Time To Failure, MTTF)**：系統連續正常運行的平均時間。適用於不可修復的系統。
3.  **平均故障間隔時間 (Mean Time Between Failures, MTBF)**：系統兩次故障之間的平均時間。適用於可修復的系統。
    *   公式：$$ \text{MTBF} = \frac{\text{總運行時間}}{\text{故障次數}} $$
4.  **平均修復時間 (Mean Time To Repair, MTTR)**：從故障發生到系統完全恢復正常運行的平均時間。
5.  **測試覆蓋率 (Test Coverage)**：測試案例覆蓋程式碼的比例（語句覆蓋、分支覆蓋、路徑覆蓋等）。
6.  **客戶滿意度 (Customer Satisfaction)**：透過問卷、NPS (Net Promoter Score) 等方式評估。
7.  **返工率 (Rework Rate)**：因缺陷導致的修改工作量佔總工作量的比例。

**例子：**
一個軟體專案，其程式碼總行數為 50,000 行 (50 KLOC)。在測試階段共發現 100 個缺陷。
其缺陷密度為：
$$ \text{缺陷密度} = \frac{100 \text{ 個缺陷}}{50 \text{ KLOC}} = 2 \text{ 缺陷/KLOC} $$
如果專案的目標是將缺陷密度控制在 1.5 缺陷/KLOC 以下，則這個專案需要進一步改進品質。

**與相鄰概念的關聯：**
品質度量為品質控制和品質改進提供了客觀依據。透過度量，品質經理可以追蹤品質目標的達成情況，識別品質瓶頸，並向管理層報告專案的品質狀態。它也為品質保證活動（如過程改進）提供了量化的反饋。

-----

### 4. 進階內容

#### 4.1 品質管理體系與模型

為了系統化地實施品質管理，許多組織會採用成熟的品質管理體系和模型。

-----

**核心觀念：**
*   **ISO 9001**：國際通用的品質管理體系標準，適用於各種組織。它要求組織建立、實施、維持並持續改進品質管理系統，以確保產品和服務符合客戶和法規要求。對於軟體組織，通常會結合 ISO/IEC 25000 (SQuaRE) 系列標準。
*   **能力成熟度模型整合 (Capability Maturity Model Integration, CMMI)**：由卡內基美隆大學軟體工程研究所 (SEI) 開發，是一個用於指導組織改進過程的框架。它定義了五個成熟度等級（初始級、管理級、定義級、量化管理級、優化級），組織可以透過遵循 CMMI 最佳實踐來逐步提升其軟體開發和維護能力。
    *   **等級 1 初始級 (Initial)**：過程不可預測，反應式。
    *   **等級 2 管理級 (Managed)**：過程為專案而定義，通常是反應式的。
    *   **等級 3 定義級 (Defined)**：過程是標準化的，主動式的。
    *   **等級 4 量化管理級 (Quantitatively Managed)**：過程被量化管理和控制。
    *   **等級 5 優化級 (Optimizing)**：過程持續改進，預防缺陷。
*   **SPICE (Software Process Improvement and Capability dEtermination, ISO/IEC 15504)**：另一個用於評估和改進軟體開發過程的國際標準。它提供了一個框架來評估組織的過程能力。

**例子：**
一家軟體公司透過導入 CMMI 框架，逐步將其開發過程從「初始級」提升到「定義級」。他們為所有專案制定了標準化的需求管理、設計和測試流程，並對開發人員進行了相關培訓，從而減少了專案的失敗率和缺陷數量。

**與相鄰概念的關聯：**
這些模型和體系為企業提供了實施品質管理的路徑圖和驗證機制。它們與組織的營運策略、專案管理以及人力資源管理都有密切關係，是實現全面品質管理 (Total Quality Management, TQM) 的重要支柱。

-----

### 5. 常見錯誤與澄清

1.  **錯誤觀念：** 品質是測試人員的責任。
    **澄清：** 軟體品質是整個開發團隊（包括產品經理、設計師、開發人員、測試人員和專案經理）的共同責任。測試只是品質控制的一個環節，而品質保證則貫穿於整個生命週期。所有參與者都應具備「內建品質」(Quality Built-in) 的心態。

2.  **錯誤觀念：** 品質可以在開發週期的末端「測試進去」。
    **澄清：** 缺陷越早發現，修正成本越低。在需求和設計階段引入的缺陷，如果在後續階段才被發現，其修正成本可能是早期發現的數倍甚至數十倍。品質應該從專案啟動之初就開始規劃和管理。

3.  **錯誤觀念：** 只要缺陷數量少，就是高品質軟體。
    **澄清：** 缺陷數量少是品質的一個重要指標，但並非唯一指標。軟體可能缺陷少，但使用者介面複雜、性能低下或不符合使用者真正的需求，這仍然不是高品質軟體。全面的品質評估應涵蓋功能性、可靠性、可用性、效率、安全性等多個維度。

4.  **錯誤觀念：** 品質管理會拖慢開發速度。
    **澄清：** 初期投入品質管理活動（如需求審查、設計審查、自動化測試）可能會在表面上增加時間，但從長遠來看，這能顯著減少後續階段的缺陷修正和返工時間，降低外部失敗成本，最終加速產品上市並提升客戶滿意度。

-----

### 6. 小練習（附詳解）

#### 小練習 1：軟體品質屬性識別

**題目：**
假設你正在開發一個線上銀行應用程式。請列出至少五個與此應用程式相關的軟體品質屬性，並為每個屬性提供一個具體的例子說明。

**步驟：**
1.  回顧 ISO 25010 的八個品質特性。
2.  針對線上銀行應用程式的特性，思考哪些品質屬性最為重要。
3.  為每個選定的屬性，提供一個具體的、可量化的或可觀察的應用程式例子。

**詳解：**

1.  **安全性 (Security)：**
    *   **例子：** 應用程式必須支援多因素驗證 (MFA)，並且在用戶帳戶連續輸入錯誤密碼三次後鎖定帳戶。所有交易數據必須使用端對端加密。
2.  **可靠性 (Reliability)：**
    *   **例子：** 系統必須保證 99.99% 的服務可用性（每年停機時間少於 52.6 分鐘），且在高並發交易下不能出現數據不一致問題。
3.  **可用性 (Usability)：**
    *   **例子：** 使用者介面必須直觀，轉帳操作在不熟悉的情況下，平均完成時間不能超過 30 秒。提供清晰的錯誤訊息提示，引導使用者解決問題。
4.  **功能性 (Functionality)：**
    *   **例子：** 應用程式必須能夠正確顯示用戶的帳戶餘額、交易歷史記錄，並支援即時轉帳、帳單支付和理財產品購買。
5.  **效率 (Performance Efficiency)：**
    *   **例子：** 登入操作在網路條件良好時，響應時間必須在 2 秒內完成；查詢近三個月交易記錄的響應時間必須在 5 秒內。

-----

#### 小練習 2：缺陷密度計算與分析

**題目：**
一個軟體專案，共有 25,000 行可執行程式碼 (LOC)。在系統測試階段發現了 45 個缺陷，其中有 30 個被成功修復並驗證，而另外 15 個缺陷被確認為非重要，延期到下一版本修正。請計算此專案的缺陷密度，並評估其品質狀態。

**步驟：**
1.  識別相關數據：總程式碼行數、發現的缺陷總數。
2.  應用缺陷密度的計算公式。
3.  根據計算結果，對專案品質進行初步評估。

**詳解：**

1.  **相關數據：**
    *   總程式碼行數 (LOC) = 25,000 行
    *   總缺陷數 = 45 個
2.  **將 LOC 轉換為 KLOC：**
    *   25,000 LOC = 25 KLOC
3.  **計算缺陷密度：**
    *   $$ \text{缺陷密度} = \frac{\text{總缺陷數}}{\text{程式碼行數 (KLOC)}} = \frac{45 \text{ 個缺陷}}{25 \text{ KLOC}} = 1.8 \text{ 缺陷/KLOC} $$
4.  **品質狀態評估：**
    *   此專案的缺陷密度為 1.8 缺陷/KLOC。
    *   通常，業界對於成熟的軟體專案，缺陷密度的期望值約在 0.5 到 1.0 缺陷/KLOC 之間。較新的、複雜的或開發過程不成熟的專案，其缺陷密度可能在 2.0 缺陷/KLOC 甚至更高。
    *   因此，1.8 缺陷/KLOC 雖然不算極高，但仍有改進空間。特別是，還有 15 個缺陷延期修正，這意味著交付給客戶的產品仍存在已知的、未修復的缺陷。管理層需要根據這些延期缺陷的嚴重性來決定是否可以接受此品質水平。如果專案的目標是達到高質量，則需要進一步改進開發和測試過程以降低缺陷密度。

-----

### 7. 延伸閱讀/參考

*   **ISO/IEC 25010:2011**：System and software engineering -- Systems and software Quality Requirements and Evaluation (SQuaRE) -- System and software quality models.
*   **Pressman, R. S., & Maxim, B. R.** (2020). *Software Engineering: A Practitioner's Approach*. McGraw-Hill Education. (此書涵蓋了軟體工程的各個方面，其中包含詳細的品質管理章節)
*   **McConnell, S.** (2004). *Code Complete: A Practical Handbook of Software Construction*. Microsoft Press. (此書雖側重於編碼實踐，但其關於高品質程式碼和預防缺陷的觀點對品質管理至關重要)
*   **CMMI Institute** 官方網站：提供 CMMI 模型相關資源和出版物。
*   **IEEE Standard for Software Quality Assurance Plans (IEEE Std 730)**：定義了軟體品質保證計劃的最低要求和內容。

-----