# 數位邏輯基礎 — 數值系統與二進位算術

### 1. 核心概念/定義

#### 1.1 什麼是數位邏輯？

**定義/核心觀念：**
數位邏輯是研究如何使用二進位（0 和 1）表示和處理資訊的學科。它是所有現代電腦、智慧型手機、以及其他數位電子設備的基石。在數位邏輯中，電路元件（如邏輯閘）被設計來執行特定的布林運算，進而構成複雜的功能模組，例如處理器、記憶體等。

**與相鄰概念的關聯：**
數位邏輯是電腦科學、電子工程和資訊工程的核心交叉領域。它與布林代數（提供數學基礎）、電路設計（提供物理實現）和電腦架構（提供系統層面應用）緊密相關。

#### 1.2 數值系統概述

**定義/核心觀念：**
數值系統（Number System）是表示數字的一種方法。在數位邏輯中，我們主要關注以不同「基數」（Base 或 Radix）來表示數字的進位制系統。電腦內部由於電路物理特性，通常使用二進位系統。

##### 1.2.1 進位制（Radix/Base）

**定義/核心觀念：**
一個進位制系統的基數 $R$ 決定了該系統中使用多少個獨特的符號來表示數字。對於一個基數為 $R$ 的數字系統，其使用的符號集通常為 $\{0, 1, ..., R-1\}$。一個數字 $ (d_n d_{n-1} ... d_1 d_0 . d_{-1} d_{-2} ... d_{-m})_R $ 的值可以表示為：
$ \sum_{i=-m}^{n} d_i \times R^i $
其中 $d_i$ 是該位置的數字，且 $0 \le d_i < R$。

**例子：**
*   **十進位 (Decimal System, Base 10):** 使用 0-9 共 10 個符號。
    $ (123.45)_{10} = 1 \times 10^2 + 2 \times 10^1 + 3 \times 10^0 + 4 \times 10^{-1} + 5 \times 10^{-2} $
*   **二進位 (Binary System, Base 2):** 使用 0 和 1 共 2 個符號。
    $ (1011.01)_2 = 1 \times 2^3 + 0 \times 2^2 + 1 \times 2^1 + 1 \times 2^0 + 0 \times 2^{-1} + 1 \times 2^{-2} $
*   **八進位 (Octal System, Base 8):** 使用 0-7 共 8 個符號。
*   **十六進位 (Hexadecimal System, Base 16):** 使用 0-9 和 A-F 共 16 個符號（A=10, B=11, C=12, D=13, E=14, F=15）。

##### 1.2.2 常用數值系統：二進位、八進位、十進位、十六進位

**核心觀念：**
| 系統名稱 | 基數 (R) | 數字符號 | 應用場景 |
| :------- | :------- | :------- | :------- |
| 十進位   | 10       | 0-9      | 日常生活 |
| 二進位   | 2        | 0, 1     | 電腦內部、數位電路 |
| 八進位   | 8        | 0-7      | 早期的電腦系統、有時用於簡化二進位表示 |
| 十六進位 | 16       | 0-9, A-F | 電腦記憶體位址、顏色編碼、機器碼、資料顯示 |

**與相鄰概念的關聯：**
這些不同的數值系統都是為了方便不同應用場景而設計的。二進位是電腦最「原生」的語言，而八進位和十六進位則是為了人類更容易閱讀和書寫長串二進位數字的「簡寫」形式。

##### 1.2.3 位元、位元組、字元

**定義/核心觀念：**
*   **位元 (Bit):** Binary Digit 的縮寫，是數位資訊的最小單位，只能是 0 或 1。
*   **位元組 (Byte):** 通常由 8 個位元組成。一個位元組可以表示 $2^8 = 256$ 種不同的值（例如 0 到 255）。
*   **字元 (Word):** 一個字元的長度因電腦架構而異，可以是 16 位元、32 位元、64 位元等。它是 CPU 處理資料的基本單位。

**與相鄰概念的關聯：**
這些單位是衡量數位資料大小和電腦處理能力的基礎。所有高級語言中的資料型態（整數、浮點數、字元串）最終都會被轉換成位元、位元組、字元等形式在電腦硬體中儲存和處理。

-----

### 2. 典型例子與轉換/推導

#### 2.1 任意進位制轉換為十進位

**核心觀念：**
將任意進位制 $ (d_n d_{n-1} ... d_1 d_0 . d_{-1} d_{-2} ... d_{-m})_R $ 轉換為十進位，只需使用加權和公式：
$ \sum_{i=-m}^{n} d_i \times R^i $

**例子：**
1.  **將 $ (1101.101)_2 $ 轉換為十進位：**
    $ (1101.101)_2 = 1 \times 2^3 + 1 \times 2^2 + 0 \times 2^1 + 1 \times 2^0 + 1 \times 2^{-1} + 0 \times 2^{-2} + 1 \times 2^{-3} $
    $ = 1 \times 8 + 1 \times 4 + 0 \times 2 + 1 \times 1 + 1 \times 0.5 + 0 \times 0.25 + 1 \times 0.125 $
    $ = 8 + 4 + 0 + 1 + 0.5 + 0 + 0.125 $
    $ = (13.625)_{10} $

2.  **將 $ (2A.C)_{16} $ 轉換為十進位：**
    （注意 A=10, C=12）
    $ (2A.C)_{16} = 2 \times 16^1 + A \times 16^0 + C \times 16^{-1} $
    $ = 2 \times 16 + 10 \times 1 + 12 \times \frac{1}{16} $
    $ = 32 + 10 + \frac{12}{16} $
    $ = 42 + 0.75 $
    $ = (42.75)_{10} $

#### 2.2 十進位轉換為任意進位制

**核心觀念：**
十進位數轉換為任意基數 $R$ 的數，需要將整數部分和小數部分分開處理。

##### 2.2.1 整數部分轉換（除法取餘法）

**推導：**
將十進位整數重複除以目標基數 $R$，記錄每次的餘數。最後將餘數從下到上（最後的餘數是最高位，最開始的餘數是最低位）排列即可。

**例子：**
1.  **將 $ (45)_{10} $ 轉換為二進位：**
    *   $ 45 \div 2 = 22 \text{ 餘 } 1 $ (LSB, 最低位)
    *   $ 22 \div 2 = 11 \text{ 餘 } 0 $
    *   $ 11 \div 2 = 5 \text{ 餘 } 1 $
    *   $ 5 \div 2 = 2 \text{ 餘 } 1 $
    *   $ 2 \div 2 = 1 \text{ 餘 } 0 $
    *   $ 1 \div 2 = 0 \text{ 餘 } 1 $ (MSB, 最高位)
    將餘數從下往上排列：$ (101101)_2 $。

##### 2.2.2 小數部分轉換（乘法取整法）

**推導：**
將十進位小數重複乘以目標基數 $R$，記錄每次乘積的整數部分。最後將整數部分從上到下排列（最開始的整數部分是最高位，最後的整數部分是最低位）。乘法直到小數部分為 0 或達到所需精度為止。

**例子：**
1.  **將 $ (0.625)_{10} $ 轉換為二進位：**
    *   $ 0.625 \times 2 = 1.25 $ 取整數 $ 1 $
    *   $ 0.25 \times 2 = 0.50 $ 取整數 $ 0 $
    *   $ 0.50 \times 2 = 1.00 $ 取整數 $ 1 $
    將整數從上往下排列：$ (0.101)_2 $。

2.  **綜合範例：將 $ (45.625)_{10} $ 轉換為二進位：**
    結合上述兩個例子，結果為 $ (101101.101)_2 $。

#### 2.3 二進位、八進位、十六進位間的快速轉換

**核心觀念：**
由於八進位基數 $8 = 2^3$，十六進位基數 $16 = 2^4$，因此二進位與這兩種系統之間存在簡單的分組轉換關係。

##### 2.3.1 二進位與八進位

**推導：**
*   **二進位轉八進位：** 從二進位數的小數點（或最右端）開始，向左和向右每三位一組。如果某組不足三位，在左側或右側補 0。然後將每組的三位二進位數轉換成一個八進位數字。
*   **八進位轉二進位：** 將每個八進位數字轉換成三位二進位數。

**例子：**
1.  **將 $ (1101101.01)_2 $ 轉換為八進位：**
    *   整數部分：$ 1 \ 101 \ 101 $ 補齊為 $ 001 \ 101 \ 101 $
        *   $ 001_2 = 1_8 $
        *   $ 101_2 = 5_8 $
        *   $ 101_2 = 5_8 $
    *   小數部分：$ 01 $ 補齊為 $ 010 $
        *   $ 010_2 = 2_8 $
    所以 $ (1101101.01)_2 = (155.2)_8 $。

##### 2.3.2 二進位與十六進位

**推導：**
*   **二進位轉十六進位：** 從二進位數的小數點（或最右端）開始，向左和向右每四位一組。如果某組不足四位，在左側或右側補 0。然後將每組的四位二進位數轉換成一個十六進位數字。
*   **十六進位轉二進位：** 將每個十六進位數字轉換成四位二進位數。

**例子：**
1.  **將 $ (1101101.01)_2 $ 轉換為十六進位：**
    *   整數部分：$ 110 \ 1101 $ 補齊為 $ 0110 \ 1101 $
        *   $ 0110_2 = 6_{16} $
        *   $ 1101_2 = D_{16} $
    *   小數部分：$ 01 $ 補齊為 $ 0100 $
        *   $ 0100_2 = 4_{16} $
    所以 $ (1101101.01)_2 = (6D.4)_{16} $。

#### 2.4 二進位算術

**核心觀念：**
電腦中的所有算術運算最終都以二進位形式執行。

##### 2.4.1 二進位加法

**推導：**
與十進位加法類似，從右至左逐位相加，但只使用二進位的加法規則：
*   $ 0 + 0 = 0 $
*   $ 0 + 1 = 1 $
*   $ 1 + 0 = 1 $
*   $ 1 + 1 = 0 \text{ 產生進位 } 1 $
*   $ 1 + 1 + 1 = 1 \text{ 產生進位 } 1 $

**例子：**
1.  **計算 $ (1011)_2 + (1101)_2 $：**
    ```
      1 0 1 1  (11)
    + 1 1 0 1  (13)
    ---------
    1 1 0 0 0  (24)
    ```
    *   $1+1 = 0$ 帶 1
    *   $1+0+1 = 0$ 帶 1
    *   $0+1+1 = 0$ 帶 1
    *   $1+1 = 0$ 帶 1
    *   $1$ (最高位的進位)

##### 2.4.2 二進位減法（補數法）

**核心觀念：**
在數位電路中，減法通常是透過加法來實現的。這需要使用「補數」（Complement）的概念。

##### 2.4.2.1 一補數（One's Complement）

**定義/核心觀念：**
對於一個 $n$ 位元的二進位數，其一補數是將每一位元取反（0 變 1，1 變 0）得到的數。
**例子：** $ (10110)_2 $ 的一補數是 $ (01001)_2 $。

##### 2.4.2.2 二補數（Two's Complement）

**定義/核心觀念：**
對於一個 $n$ 位元的二進位數，其二補數是其一補數加 1 得到的數。二補數是電腦中最常用的有號數表示法，也用於執行減法。
**公式：** $ (N)_2 $ 的二補數 $ = (\text{一補數}(N)_2) + (1)_2 $

**例子：**
1.  **求 $ (10110)_2 $ 的二補數 (假設是 5 位元數)：**
    *   一補數：$ (01001)_2 $
    *   加 1：$ (01001)_2 + (1)_2 = (01010)_2 $
    所以 $ (10110)_2 $ 的二補數是 $ (01010)_2 $。

**二補數減法（A - B = A + (-B)）：**
將 $ A - B $ 轉換為 $ A + (\text{B 的二補數}) $。如果最終結果產生溢位（最高位進位），則捨棄該進位。

**例子：**
1.  **計算 $ (1101)_2 - (1001)_2 $ (13 - 9)，使用 4 位元表示：**
    *   被減數 $ A = (1101)_2 $ (13)
    *   減數 $ B = (1001)_2 $ (9)
    *   求 $ B $ 的二補數：
        *   $ B = (1001)_2 $
        *   一補數：$ (0110)_2 $
        *   二補數：$ (0110)_2 + (1)_2 = (0111)_2 $
    *   執行加法：$ A + (\text{B 的二補數}) $
        ```
          1 1 0 1
        + 0 1 1 1
        ---------
        (1)0 1 0 0
        ```
    *   最高位產生的進位 1 捨棄。
    *   結果是 $ (0100)_2 = (4)_{10} $。這與 $ 13 - 9 = 4 $ 相符。

-----

### 3. 與相鄰概念的關聯

#### 3.1 數值系統與電腦內部表示

**核心觀念：**
所有高級程式語言中的資料型態（整數、浮點數、字元、字串）最終在電腦記憶體中都以二進位形式儲存。

*   **整數 (Integer):** 通常使用二進位或二補數來表示。例如，32 位元整數可以表示 $2^{32}$ 個不同的值。
*   **浮點數 (Floating-point Number):** 遵循 IEEE 754 標準，使用科學記號法（符號位、指數、尾數）的二進位形式表示，能夠表示非常大或非常小的數字，但可能存在精度問題。
*   **字元 (Character):** 使用特定的編碼系統（如 ASCII, Unicode）將字元映射到唯一的二進位數字。例如，ASCII 碼 'A' 是 $ (01000001)_2 $。

**與相鄰概念的關聯：**
這些底層的二進位表示方式直接影響程式設計師對資料型態的選擇，以及對記憶體使用和運算效能的理解。例如，選擇正確的整數型態（`int`, `short`, `long`）可以避免溢位或浪費記憶體。

#### 3.2 補數與有號數表示

**核心觀念：**
二補數不僅用於減法運算，更是現代電腦中最常見的有號數（帶正負號的數）表示法。在 $N$ 位元的二補數表示中：
*   最高位（Most Significant Bit, MSB）為 0 表示正數。
*   最高位為 1 表示負數。
*   可以表示的範圍從 $ -2^{N-1} $ 到 $ 2^{N-1}-1 $。

**例子：**
使用 4 位元二補數表示：
*   $ (0000)_2 = 0 $
*   $ (0001)_2 = 1 $
*   $ (0111)_2 = 7 $ (最大正數 $ 2^{4-1}-1 = 7 $)
*   $ (1000)_2 = -8 $ (最小負數 $ -2^{4-1} = -8 $)
*   $ (1111)_2 = -1 $

**與相鄰概念的關聯：**
二補數系統解決了原碼和一補數表示法中「零有兩種表示方式」（+0 和 -0）的問題，並且簡化了硬體中的加減法電路設計。這對電腦底層的算術邏輯單元（ALU）的設計至關重要。

-----

### 4. 常見錯誤與澄清

#### 4.1 轉換時的基數混淆

**常見錯誤：**
在進行不同基數的數值轉換時，尤其是多步驟轉換（例如二進位轉十進位再轉十六進位），容易混淆當前正在處理的數字是哪個基數的。特別是在手算時，有時會將二進位或十六進位的數字誤讀為十進位。

**澄清：**
*   **務必標明基數：** 養成習慣，在每個數值後面都標註其基數，例如 $ (101)_2 $、$ (A3)_{16} $、$ (25)_{10} $。
*   **分清整數與小數部分：** 轉換時，整數部分使用除法取餘，小數部分使用乘法取整，兩者不能混淆。
*   **校驗結果：** 轉換完成後，可以嘗試將結果再轉回原始基數，或轉換為一個共同的基數（如十進位）進行校驗。例如，將 $ (1101)_2 $ 轉換為 $ (13)_{10} $，再將 $ (13)_{10} $ 轉換回 $ (1101)_2 $ 以確認無誤。

#### 4.2 補數的誤用

**常見錯誤：**
*   **混淆一補數和二補數：** 錯誤地將一補數用於有號數表示或減法運算。
*   **忽略位數：** 在計算補數或執行二補數減法時，沒有考慮數字的總位數 $N$，導致結果錯誤。例如，5 的二補數是 $ (0101)_2 \rightarrow (1010)_2+1 = (1011)_2 $ (4位元表示-5)，但若在 8 位元環境下，則會是 $ (00000101)_2 \rightarrow (11111010)_2+1 = (11111011)_2 $ (8位元表示-5)。
*   **減法結果的判斷：** 忘記在二補數減法中，最高位產生的進位需要捨棄。

**澄清：**
*   **明確使用場景：** 幾乎所有的電腦系統都使用二補數來表示有號數和執行減法。一補數在現代系統中很少單獨使用，主要作為二補數的過渡步驟。
*   **固定位數：** 在執行補數運算時，必須預先確定數字的總位數 $N$。這個 $N$ 決定了最高有效位元的位置。
*   **結果意義：** 減法結果的最高位（MSB）如果為 0，表示正數；如果為 1，表示負數。產生的溢位（最高位進位）代表運算超出了 $N$ 位元的範圍，通常需要捨棄。

-----

### 5. 小練習（附詳解）

#### 5.1 練習題 1：數值系統轉換

**題目：**
請將以下數值進行轉換：
1.  將 $ (247)_{10} $ 轉換為二進位數。
2.  將 $ (1011011.101)_2 $ 轉換為十進位數。
3.  將 $ (4C.A)_{16} $ 轉換為二進位數。
4.  將 $ (110101101.11)_2 $ 轉換為八進位數。

**詳解：**
1.  **將 $ (247)_{10} $ 轉換為二進位數：**
    *   $ 247 \div 2 = 123 \text{ 餘 } 1 $
    *   $ 123 \div 2 = 61 \text{ 餘 } 1 $
    *   $ 61 \div 2 = 30 \text{ 餘 } 1 $
    *   $ 30 \div 2 = 15 \text{ 餘 } 0 $
    *   $ 15 \div 2 = 7 \text{ 餘 } 1 $
    *   $ 7 \div 2 = 3 \text{ 餘 } 1 $
    *   $ 3 \div 2 = 1 \text{ 餘 } 1 $
    *   $ 1 \div 2 = 0 \text{ 餘 } 1 $
    從下往上讀餘數：$ (11110111)_2 $。
    **答案：** $ (11110111)_2 $

2.  **將 $ (1011011.101)_2 $ 轉換為十進位數：**
    $ = 1 \times 2^6 + 0 \times 2^5 + 1 \times 2^4 + 1 \times 2^3 + 0 \times 2^2 + 1 \times 2^1 + 1 \times 2^0 + 1 \times 2^{-1} + 0 \times 2^{-2} + 1 \times 2^{-3} $
    $ = 64 + 0 + 16 + 8 + 0 + 2 + 1 + 0.5 + 0 + 0.125 $
    $ = 91 + 0.625 $
    $ = (91.625)_{10} $
    **答案：** $ (91.625)_{10} $

3.  **將 $ (4C.A)_{16} $ 轉換為二進位數：**
    *   $ 4_{16} = 0100_2 $
    *   $ C_{16} = 1100_2 $
    *   $ A_{16} = 1010_2 $
    組合起來：$ (01001100.1010)_2 $。前導 0 可以省略。
    **答案：** $ (1001100.1010)_2 $

4.  **將 $ (110101101.11)_2 $ 轉換為八進位數：**
    *   整數部分：$ 110 \ 101 \ 101 $
        *   $ 110_2 = 6_8 $
        *   $ 101_2 = 5_8 $
        *   $ 101_2 = 5_8 $
    *   小數部分：$ 11 $ 補齊為 $ 110 $
        *   $ 110_2 = 6_8 $
    組合起來：$ (655.6)_8 $。
    **答案：** $ (655.6)_8 $

#### 5.2 練習題 2：二進位減法

**題目：**
請使用 8 位元二補數（Two's Complement）方法計算 $ (45)_{10} - (27)_{10} $。

**詳解：**
1.  **將十進位數轉換為 8 位元二進位：**
    *   $ (45)_{10} = (00101101)_2 $
    *   $ (27)_{10} = (00011011)_2 $

2.  **確定被減數 A 和減數 B：**
    *   $ A = (00101101)_2 $
    *   $ B = (00011011)_2 $

3.  **計算減數 B 的 8 位元二補數：**
    *   原始 $ B = (00011011)_2 $
    *   一補數 (invert all bits)：$ (11100100)_2 $
    *   二補數 (add 1 to one's complement)：$ (11100100)_2 + (00000001)_2 = (11100101)_2 $
    所以，$ (-27)_{10} = (11100101)_2 $。

4.  **執行加法 $ A + (-B) $：**
    ```
      00101101  (45)
    + 11100101  (-27)
    ----------
    (1)00010010  (18)
    ```

5.  **處理溢位：**
    最高位（第 9 位）產生的進位 1 捨棄（因為我們只用 8 位元表示）。

6.  **最終結果：**
    結果為 $ (00010010)_2 $。
    將 $ (00010010)_2 $ 轉換為十進位：
    $ 1 \times 2^4 + 0 \times 2^3 + 0 \times 2^2 + 1 \times 2^1 + 0 \times 2^0 $
    $ = 16 + 2 = (18)_{10} $。
    這與 $ 45 - 27 = 18 $ 相符。

**答案：** $ (00010010)_2 $

-----

### 6. 延伸閱讀/參考

*   **書籍：**
    *   M. Morris Mano, Charles R. Kime. (2014). **Digital Design: With an Introduction to the Verilog HDL, VHDL, and SystemVerilog** (6th ed.). Pearson. (經典數位邏輯設計教材，適合初學者與進階學習者)
    *   David M. Harris, Sarah L. Harris. (2016). **Digital Design and Computer Architecture, ARM Edition** (2nd ed.). Morgan Kaufmann. (結合數位設計與電腦架構，實用性高)
    *   R. H. Katz, G. Borriello. (2007). **Contemporary Logic Design** (2nd ed.). Prentice Hall. (強調現代設計方法和工具)

*   **線上資源：**
    *   **Khan Academy - Digital Circuits:** 提供了從基礎布林代數到邏輯閘的免費教學影片和練習。
    *   **Coursera/edX - Digital Logic Design Courses:** 許多大學在這些平台提供了相關課程，可以深入學習。
    *   **Wikipedia - Number Systems, Two's Complement:** 快速查詢概念和定義的良好來源。