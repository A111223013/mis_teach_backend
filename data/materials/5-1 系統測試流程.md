# 5-1 系統測試流程

本章節將深入探討軟體開發生命週期中一個關鍵階段——系統測試（System Testing）的完整流程。我們將從核心概念出發，理解系統測試的目的與範疇，並逐步學習如何規劃、設計、執行、報告及結案，以確保軟體產品的品質與穩定性。

## ### 1. 核心概念與定義

#### 什麼是系統測試？

*   **定義：** 系統測試是一種軟體測試活動，旨在驗證整個整合後的軟體系統是否符合所有指定的（功能性與非功能性）需求規格。它通常在單元測試和整合測試之後進行，並在驗收測試之前執行。
*   **目的：**
    *   驗證整個系統作為一個整體是否能正常運作。
    *   確保系統符合客戶或用戶的所有需求和預期。
    *   識別在整合層面或整個系統中可能存在的缺陷、錯誤或不一致性。
    *   評估系統的性能、可靠性、安全性、可用性等非功能性特徵。
    *   為驗收測試提供一個相對穩定且符合規格的系統版本。
*   **範疇：** 系統測試涵蓋了廣泛的測試類型，包括但不限於：
    *   **功能測試 (Functional Testing)：** 驗證系統的各項功能是否按照需求規格正確執行。
    *   **非功能性測試 (Non-functional Testing)：**
        *   **性能測試 (Performance Testing)：** 評估系統在特定負載下的響應時間、吞吐量和資源利用率。
        *   **壓力測試 (Stress Testing)：** 測試系統在極端負載或超出其設計容量時的行為。
        *   **負載測試 (Load Testing)：** 測量系統在正常或峰值預期負載下的行為。
        *   **安全性測試 (Security Testing)：** 識別系統的弱點並確保數據和系統免受未經授權的訪問或攻擊。
        *   **可用性測試 (Usability Testing)：** 評估用戶介面的易用性和用戶體驗。
        *   **可靠性測試 (Reliability Testing)：** 驗證系統在長時間運行下保持穩定且無故障的能力。
        *   **可移植性測試 (Portability Testing)：** 檢查系統在不同環境（如操作系統、瀏覽器）下的兼容性。
        *   **安裝測試 (Installation Testing)：** 驗證系統在不同配置下的安裝過程是否正確。
        *   **回歸測試 (Regression Testing)：** 確保新修改或修復的代碼不會對現有功能造成負面影響。
*   **執行者：** 通常由獨立的測試團隊執行，以確保客觀性。

-----

#### 系統測試的典型流程階段

系統測試是一個結構化的過程，通常包含以下幾個主要階段：

1.  **測試計畫 (Test Planning)：**
    *   **核心觀念：** 定義系統測試的目標、範圍、策略、資源、時間表和風險管理。它是所有後續測試活動的基礎。
    *   **內容：** 制定測試計畫文件，明確測試環境、測試工具、測試人員角色、缺陷管理流程、測試退出標準等。
2.  **測試設計 (Test Design)：**
    *   **核心觀念：** 將系統需求轉換為具體的測試案例（Test Cases）和測試腳本（Test Scripts）。
    *   **內容：** 根據功能和非功能性需求，設計詳細的測試步驟、預期結果、測試數據，並定義測試用例的優先級。
3.  **測試執行 (Test Execution)：**
    *   **核心觀念：** 根據設計好的測試案例，在指定的測試環境中實際運行測試，並記錄測試結果和發現的缺陷。
    *   **內容：** 執行測試、記錄測試通過/失敗狀態、捕獲缺陷資訊（錯誤訊息、重現步驟、螢幕截圖），並將缺陷提交給開發團隊。
4.  **測試報告 (Test Reporting)：**
    *   **核心觀念：** 總結測試執行情況，分析測試結果，並向相關利害關係人報告測試進度、品質狀態和風險。
    *   **內容：** 編寫測試報告，包含測試覆蓋率、缺陷數量與類型、缺陷趨勢分析、未解決缺陷的狀態、品質評估和下一步建議。
5.  **測試結案 (Test Closure)：**
    *   **核心觀念：** 在所有測試活動完成並達到退出標準後，正式結束測試階段。
    *   **內容：** 驗證所有關鍵缺陷已修復並通過回歸測試，所有測試數據已備份，審查測試過程並總結經驗教訓，更新相關文件，並獲得利害關係人的簽署確認。

## ### 2. 典型例子與轉換

#### 以「線上圖書銷售系統」為例的系統測試流程

假設我們正在開發一個「線上圖書銷售系統」，以下是其系統測試流程的簡化範例：

1.  **測試計畫：**
    *   **目標：** 確保系統能正確處理圖書瀏覽、搜尋、加入購物車、結帳、訂單管理及會員功能。
    *   **範圍：** 包含所有前端用戶操作及後端管理功能，以及支付接口整合、性能測試（在1000個併發用戶下響應時間小於3秒）、安全性測試。
    *   **資源：** 兩名測試工程師、測試伺服器、測試工具（如JMeter進行性能測試）。
    *   **時間：** 預計兩週。
    *   **退出標準：** 所有高優先級缺陷已修復，85%以上的功能測試通過，性能測試達標。
2.  **測試設計：**
    *   **需求範例：** 用戶應能透過關鍵字搜尋圖書。
    *   **測試案例設計（搜尋功能）：**
        *   **Test Case ID:** ST_SEARCH_001
        *   **標題：** 有效關鍵字搜尋成功
        *   **前置條件：** 系統中存在與關鍵字匹配的圖書。
        *   **步驟：**
            1.  進入首頁。
            2.  在搜尋欄位輸入「Python程式設計」。
            3.  點擊搜尋按鈕。
        *   **預期結果：** 顯示包含「Python程式設計」相關的所有圖書列表。
        *   **優先級：** 高
    *   **Test Case ID:** ST_SEARCH_002
        *   **標題：** 無匹配關鍵字搜尋無結果
        *   **前置條件：** 系統中不存在與關鍵字匹配的圖書。
        *   **步驟：**
            1.  進入首頁。
            2.  在搜尋欄位輸入「不存在的書名XYZ123」。
            3.  點擊搜尋按鈕。
        *   **預期結果：** 顯示「無符合搜尋結果」的訊息。
        *   **優先級：** 中
    *   **非功能性測試設計（性能）：** 設計壓力測試腳本，模擬1000個用戶同時進行瀏覽、搜尋、加入購物車的操作，並監測伺服器響應時間和資源利用率。
3.  **測試執行：**
    *   測試工程師執行上述測試案例及其他所有設計好的案例。
    *   若執行ST_SEARCH_001時，發現搜尋結果頁面載入緩慢（超過5秒），則記錄為一個性能缺陷，並附上載入時間、伺服器日誌截圖等資訊。
    *   若執行結帳流程時，發現某特定支付方式無法完成交易，則記錄為一個功能缺陷。
4.  **測試報告：**
    *   **總結：** 共執行500個測試案例，通過率80%，發現10個高優先級缺陷，25個中優先級缺陷。
    *   **缺陷趨勢：** 功能性缺陷主要集中在支付模組，性能瓶頸在圖書列表頁。
    *   **建議：** 建議開發團隊優先修復支付模組的缺陷並優化圖書列表頁的查詢效率。
5.  **測試結案：**
    *   所有高優先級缺陷已修復並通過回歸測試。
    *   重新進行性能測試，圖書列表頁響應時間符合要求。
    *   整理所有測試報告、缺陷記錄，歸檔。
    *   與項目經理、產品經理確認系統已達到發布標準。

-----

## ### 3. 與相鄰概念的關聯

系統測試不是獨立的測試階段，它與其他測試類型緊密相連，共同構成了完整的軟體測試生命週期。

#### 與單元測試 (Unit Testing) 的關係

*   **單元測試：** 針對程式碼中最小的可測試單元（如函數、方法、類別）進行驗證，通常由開發者在開發階段完成。它關注單個組件的內部邏輯是否正確。
*   **系統測試：** 驗證整個系統，從用戶的角度和需求規格的角度出發。
*   **關聯：** 單元測試是系統測試的基礎。高品質的單元測試能確保單個組件的正確性，減少在系統測試階段發現底層缺陷的可能性。如果單元測試執行不充分，系統測試可能會花費大量時間去找出本應在早期階段就被發現的缺陷。

#### 與整合測試 (Integration Testing) 的關係

*   **整合測試：** 測試不同模組、組件或系統之間的介面和交互作用。它關注各個單元組合在一起時能否協同工作，資料傳遞是否正確。
*   **系統測試：** 驗證整合後的整個系統是否符合所有功能性和非功能性需求。
*   **關聯：** 整合測試是系統測試的前置條件。只有當各個模組成功整合並能協同工作後，才能進行全面的系統測試。整合測試解決的是「內部接口」問題，而系統測試解決的是「整個系統」是否符合預期問題。

#### 與驗收測試 (Acceptance Testing) 的關係

*   **系統測試：** 由測試團隊或獨立第三方執行，驗證系統是否符合技術規格和業務需求。其目的是確保系統能按照設計規範運行。
*   **驗收測試：** 由客戶、最終使用者或產品經理執行，驗證系統是否滿足他們的業務需求和預期，並確認系統是否可以部署。它關注的是「該系統是否滿足用戶的業務價值」。
*   **關聯：** 系統測試是驗收測試的關鍵前提。一個通過了系統測試的系統，意味著它已相對穩定且符合設計規格，這為客戶進行驗收測試奠定了基礎。如果系統測試發現大量缺陷，將不適合交付給客戶進行驗收測試，以免浪費客戶時間並損害產品形象。

-----

## ### 4. 進階內容

#### 系統測試的常見類型與策略

除了基礎的功能測試，系統測試還涵蓋多種非功能性測試，以確保系統的全面品質：

*   **性能測試 (Performance Testing)：**
    *   **目的：** 評估系統在不同負載條件下的響應速度、穩定性、可擴展性。
    *   **細分：**
        *   **負載測試 (Load Testing)：** 模擬預期負載，驗證系統在正常工作條件下的行為。
        *   **壓力測試 (Stress Testing)：** 施加超出設計容量的負載，測試系統的極限和崩潰點。
        *   **耐久性測試 (Endurance Testing / Soak Testing)：** 長時間施加負載，檢查內存洩漏或其他隨著時間累積的問題。
*   **安全性測試 (Security Testing)：**
    *   **目的：** 識別系統的漏洞，保護數據和資源免受未經授權的訪問、攻擊和損壞。
    *   **方法：** 身份驗證與授權測試、數據加密測試、漏洞掃描、滲透測試等。
*   **可用性測試 (Usability Testing)：**
    *   **目的：** 評估系統的易用性、學習曲線、效率和用戶滿意度。
    *   **方法：** 觀察用戶完成特定任務，收集反饋，分析用戶行為。
*   **回歸測試 (Regression Testing)：**
    *   **目的：** 確保在系統修改（如缺陷修復、功能增強）後，現有功能沒有被意外地破壞。
    *   **策略：** 重複執行已通過的測試案例，特別是核心功能和受影響的區域。
*   **安裝與配置測試 (Installation & Configuration Testing)：**
    *   **目的：** 驗證系統在不同硬體、操作系統、軟體配置下的安裝和設置過程是否順利且正確運行。

#### 測試自動化在系統測試中的應用

*   **核心觀念：** 利用軟體工具自動執行測試案例，減少人工重複勞動，提高測試效率和準確性。
*   **優點：**
    *   **提高效率：** 自動化測試可以在短時間內執行大量測試案例。
    *   **提高準確性：** 減少人為錯誤，確保每次測試執行的步驟一致。
    *   **可重複性：** 測試案例可以無限次重複執行，特別適用於回歸測試。
    *   **早期發現問題：** 可以在開發週期早期更頻繁地運行測試。
*   **適用場景：**
    *   **回歸測試：** 針對穩定且頻繁變更的模組。
    *   **重複性高且結果可預期的功能測試。**
    *   **性能測試和負載測試。**
*   **常見工具：** Selenium (Web UI), Appium (Mobile), JMeter (性能), Postman/SoapUI (API), Cypress (Web), Playwright (Web)。
*   **局限性：** 不適合探索性測試、極少變動的介面或需要複雜人為判斷的場景；初期投入成本較高。

-----

## ### 5. 常見錯誤與澄清

#### 誤解一：系統測試就是使用者操作一遍就好。

*   **澄清：** 系統測試是一個高度結構化、有計畫、有目的的活動。它不是隨意點擊或操作，而是基於詳細的需求規格，設計出全面的測試案例，並嚴格按照步驟執行，記錄結果。沒有計畫的「使用者操作」更像是探索性測試，無法保證測試的完整性和深度。

#### 誤解二：系統測試只關心功能是否實現。

*   **澄清：** 功能性測試固然重要，但非功能性需求（如性能、安全性、可用性、可靠性）在系統測試中也佔據核心地位。一個功能完全正確但運行緩慢、容易崩潰或存在安全漏洞的系統，絕不是一個高品質的產品。在許多專案中，非功能性問題甚至比功能性問題更致命。

#### 誤解三：時間不夠就跳過系統測試，直接上線。

*   **澄清：** 跳過或大幅縮減系統測試時間是一個極高風險的決策。
    *   **潛在後果：** 許多只有在整個系統整合後才能發現的深層次缺陷（如模塊間交互問題、性能瓶頸、安全漏洞）會被帶到生產環境中。
    *   **成本考量：** 缺陷在開發生命週期中越晚發現，修復成本越高。在生產環境中發現並修復缺陷的成本，可能是單元測試階段的數十甚至數百倍，且會嚴重損害企業形象和用戶信任。系統測試是避免這些高昂代價的關鍵環節。

-----

## ### 6. 小練習（附詳解）

### 小練習一：設計會員密碼重置功能的測試案例

**情境：** 一個網站提供會員密碼重置功能。用戶需要輸入註冊時的電子郵件地址，系統會發送一個包含重置連結的郵件。用戶點擊連結後，可以設定新密碼。

**請為此功能設計至少3個核心測試案例，包含測試標題、前置條件、測試步驟和預期結果。**

#### 詳解：

1.  **測試案例一：有效電子郵件地址重置密碼成功**
    *   **測試標題：** 使用有效電子郵件地址成功重置密碼。
    *   **前置條件：** 
        1.  系統中存在一個已註冊的會員帳戶，其電子郵件地址為 `test@example.com`。
        2.  `test@example.com` 的郵箱可正常收發郵件。
    *   **測試步驟：**
        1.  訪問網站的「忘記密碼」頁面。
        2.  在電子郵件輸入框中輸入 `test@example.com`。
        3.  點擊「發送重置連結」按鈕。
        4.  登入 `test@example.com` 的郵箱，確認收到密碼重置郵件。
        5.  點擊郵件中的密碼重置連結。
        6.  在彈出的新密碼設定頁面中，輸入符合要求的「新密碼」和「確認新密碼」。
        7.  點擊「提交」按鈕。
        8.  嘗試使用 `test@example.com` 和新密碼登入網站。
    *   **預期結果：**
        1.  步驟3後，系統提示「密碼重置連結已發送至您的郵箱」。
        2.  步驟4後，郵箱中收到來自網站的密碼重置郵件。
        3.  步驟5後，成功跳轉到新密碼設定頁面。
        4.  步驟7後，系統提示「密碼重置成功」或類似訊息。
        5.  步驟8後，成功登入網站。

2.  **測試案例二：使用未註冊的電子郵件地址嘗試重置密碼**
    *   **測試標題：** 使用未註冊電子郵件地址重置密碼失敗。
    *   **前置條件：** 系統中不存在 `unregistered@example.com` 這個電子郵件地址的帳戶。
    *   **測試步驟：**
        1.  訪問網站的「忘記密碼」頁面。
        2.  在電子郵件輸入框中輸入 `unregistered@example.com`。
        3.  點擊「發送重置連結」按鈕。
    *   **預期結果：**
        1.  系統提示「該電子郵件地址未註冊」或類似錯誤訊息。
        2.  `unregistered@example.com` 未收到密碼重置郵件。

3.  **測試案例三：密碼重置連結過期**
    *   **測試標題：** 過期密碼重置連結嘗試重置密碼失敗。
    *   **前置條件：** 
        1.  系統中存在一個已註冊的會員帳戶，其電子郵件地址為 `expire@example.com`。
        2.  網站設定密碼重置連結有效期為5分鐘。
    *   **測試步驟：**
        1.  訪問網站的「忘記密碼」頁面。
        2.  在電子郵件輸入框中輸入 `expire@example.com`。
        3.  點擊「發送重置連結」按鈕。
        4.  等待超過5分鐘（或設定的有效期）。
        5.  登入 `expire@example.com` 的郵箱，點擊收到的密碼重置連結。
    *   **預期結果：**
        1.  系統提示「密碼重置連結已過期，請重新申請」或類似錯誤訊息。

---

### 小練習二：判斷測試階段

**情境：** 某軟體公司正在開發一款行動支付應用程式。以下是一些測試活動。請判斷這些活動最可能屬於軟體開發生命週期的哪個測試階段（單元測試、整合測試、系統測試、驗收測試）。

1.  開發人員編寫測試程式碼，驗證一個計算交易手續費的函式是否在所有邊界條件下都返回正確的數值。
2.  測試團隊模擬1000個用戶同時發起支付交易，測量應用程式的響應時間和伺服器CPU使用率。
3.  產品經理和幾位關鍵客戶試用應用程式的最終版本，確認支付流程、帳戶管理等功能是否符合業務需求和使用者預期。
4.  測試團隊驗證支付模組與錢包模組之間的資料傳輸和介面調用是否正確，確保從錢包扣款後，支付交易能成功完成。
5.  測試團隊對整個行動支付應用進行全面的功能性檢查，包括用戶註冊、登入、綁定銀行卡、發起支付、接收支付、查看交易記錄等所有功能，確保其符合規格說明。

#### 詳解：

1.  **開發人員編寫測試程式碼，驗證一個計算交易手續費的函式是否在所有邊界條件下都返回正確的數值。**
    *   **判斷：** 單元測試 (Unit Testing)
    *   **理由：** 這是針對最小可測試單元（函式）的內部邏輯進行驗證，由開發人員執行。

2.  **測試團隊模擬1000個用戶同時發起支付交易，測量應用程式的響應時間和伺服器CPU使用率。**
    *   **判斷：** 系統測試 (System Testing) - 具體是性能測試。
    *   **理由：** 這是針對整個應用程式在特定負載下的非功能性表現進行測試，屬於系統測試的範疇。

3.  **產品經理和幾位關鍵客戶試用應用程式的最終版本，確認支付流程、帳戶管理等功能是否符合業務需求和使用者預期。**
    *   **判斷：** 驗收測試 (Acceptance Testing)
    *   **理由：** 由客戶或最終使用者執行，目的在於驗證系統是否符合他們的業務需求和預期，以決定是否接受系統。

4.  **測試團隊驗證支付模組與錢包模組之間的資料傳輸和介面調用是否正確，確保從錢包扣款後，支付交易能成功完成。**
    *   **判斷：** 整合測試 (Integration Testing)
    *   **理由：** 這是針對不同模組（支付模組、錢包模組）之間的交互和介面進行測試，確保它們能協同工作。

5.  **測試團隊對整個行動支付應用進行全面的功能性檢查，包括用戶註冊、登入、綁定銀行卡、發起支付、接收支付、查看交易記錄等所有功能，確保其符合規格說明。**
    *   **判斷：** 系統測試 (System Testing) - 具體是功能測試。
    *   **理由：** 這是針對整個應用程式作為一個整體的所有功能性需求進行全面的驗證，由獨立測試團隊執行，確保符合規格。

-----

## ### 7. 延伸閱讀與參考

*   **國際軟體測試認證委員會 (ISTQB)**
    *   [ISTQB 官網](https://www.istqb.org/)
    *   ISTQB Foundation Level 認證是學習軟體測試基礎知識的良好起點，其教材涵蓋了系統測試的許多概念。
*   **書籍：**
    *   《軟體測試之道》(Software Testing Techniques) by Boris Beizer
    *   《如何測試軟體》(How to Break Software) by James Whittaker
*   **線上課程與資源：**
    *   Udemy、Coursera 等平台上的軟體測試相關課程。
    *   各類軟體測試部落格和專業網站，如 Ministry of Testing。
*   **相關標準：**
    *   ISO/IEC/IEEE 29119 系列標準 (軟體測試標準)
    *   IEEE 829-1998 標準 (軟體測試文件標準)