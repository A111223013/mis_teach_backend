# Chapter 2：基本邏輯閘

本章將帶您進入數位電路世界的基石——邏輯閘。邏輯閘是構成所有數位電子系統（包括電腦、手機等）的基本組件，它們根據特定的布林邏輯規則對二進制輸入訊號進行處理，並產生相應的二進制輸出訊號。理解邏輯閘的工作原理，是掌握數位邏輯設計的關鍵第一步。

-----

### 1. 核心概念與定義

#### 1.1 什麼是邏輯閘？

邏輯閘（Logic Gate）是一種執行基本布林運算（例如 AND、OR、NOT）的電子電路。它接受一個或多個二進制輸入訊號（通常為 0 或 1，代表低電壓或高電壓），並產生一個單一的二進制輸出訊號。這些閘是數位電路設計中的基本構成要素，它們能組合起來形成更複雜的功能，如加法器、記憶體和微處理器。

*   **二進制訊號**：邏輯閘處理的訊號只有兩種狀態，通常表示為 '0'（假，低電壓）和 '1'（真，高電壓）。
*   **布林代數**：邏輯閘的行為可以用布林代數（Boolean Algebra）來描述和分析。布林代數是處理邏輯值（真或假）的一套數學系統。

#### 1.2 基本邏輯閘種類

以下介紹七種最基本的邏輯閘，它們是所有數位邏輯設計的基礎。對於每一個閘，我們將介紹其：
*   **名稱**：閘的英文名稱。
*   **邏輯符號**：國際通用的圖形符號（此處主要採用 ANSI/IEEE 標準）。
*   **布林表達式**：用布林代數表示的輸入與輸出關係。
*   **真值表**：列出所有可能的輸入組合及其對應輸出的表格。
*   **文字描述**：簡要說明閘的功能。

##### 1.2.1 AND 閘 (AND Gate)

*   **定義**：AND 閘只有在所有輸入都為 '1'（真）時，輸出才為 '1'；否則，輸出為 '0'。
*   **邏輯符號**：ANSI/IEEE 標準符號為一個「D」形狀，輸入線連到平坦的一側，輸出線從弧形的一側引出。
*   **布林表達式**：$Q = A \cdot B$ 或 $Q = AB$
*   **真值表**：

| A | B | Q |
|---|---|---|
| 0 | 0 | 0 |
| 0 | 1 | 0 |
| 1 | 0 | 0 |
| 1 | 1 | 1 |

##### 1.2.2 OR 閘 (OR Gate)

*   **定義**：OR 閘只要任何一個輸入為 '1'（真）時，輸出就為 '1'；只有當所有輸入都為 '0' 時，輸出才為 '0'。
*   **邏輯符號**：ANSI/IEEE 標準符號為一個「月牙」形狀，輸入線連到較平緩的弧形側，輸出線從尖銳的弧形側引出。
*   **布林表達式**：$Q = A + B$
*   **真值表**：

| A | B | Q |
|---|---|---|
| 0 | 0 | 0 |
| 0 | 1 | 1 |
| 1 | 0 | 1 |
| 1 | 1 | 1 |

##### 1.2.3 NOT 閘 (NOT Gate / 反相器)

*   **定義**：NOT 閘（也稱反相器）只有一個輸入和一個輸出。它將輸入的邏輯狀態反轉：如果輸入是 '1'，輸出就是 '0'；如果輸入是 '0'，輸出就是 '1'。
*   **邏輯符號**：ANSI/IEEE 標準符號為一個三角形，其輸出端帶有一個小圓圈（稱為反相泡）。
*   **布林表達式**：$Q = \bar{A}$ 或 $Q = A'$
*   **真值表**：

| A | Q |
|---|---|
| 0 | 1 |
| 1 | 0 |

##### 1.2.4 NAND 閘 (NAND Gate)

*   **定義**：NAND 閘是 AND 閘的非（NOT）形式，它的輸出是 AND 閘輸出的反相。只有當所有輸入都為 '1' 時，輸出才為 '0'；否則，輸出為 '1'。
*   **邏輯符號**：與 AND 閘符號相同，但在輸出端加上一個小圓圈（反相泡）。
*   **布林表達式**：$Q = \overline{A \cdot B}$ 或 $Q = (AB)'$
*   **真值表**：

| A | B | Q |
|---|---|---|
| 0 | 0 | 1 |
| 0 | 1 | 1 |
| 1 | 0 | 1 |
| 1 | 1 | 0 |

##### 1.2.5 NOR 閘 (NOR Gate)

*   **定義**：NOR 閘是 OR 閘的非（NOT）形式，它的輸出是 OR 閘輸出的反相。只有當所有輸入都為 '0' 時，輸出才為 '1'；否則，輸出為 '0'。
*   **邏輯符號**：與 OR 閘符號相同，但在輸出端加上一個小圓圈（反相泡）。
*   **布林表達式**：$Q = \overline{A + B}$ 或 $Q = (A+B)'$
*   **真值表**：

| A | B | Q |
|---|---|---|
| 0 | 0 | 1 |
| 0 | 1 | 0 |
| 1 | 0 | 0 |
| 1 | 1 | 0 |

##### 1.2.6 XOR 閘 (Exclusive-OR Gate / 互斥或閘)

*   **定義**：XOR 閘的輸出在兩個輸入不相同時為 '1'，即一個輸入為 '0' 另一個為 '1' 時。如果兩個輸入相同（同為 '0' 或同為 '1'），則輸出為 '0'。
*   **邏輯符號**：與 OR 閘符號相似，但在輸入端前面多一條弧線。
*   **布林表達式**：$Q = A \oplus B$ 或 $Q = A\bar{B} + \bar{A}B$
*   **真值表**：

| A | B | Q |
|---|---|---|
| 0 | 0 | 0 |
| 0 | 1 | 1 |
| 1 | 0 | 1 |
| 1 | 1 | 0 |

##### 1.2.7 XNOR 閘 (Exclusive-NOR Gate / 互斥反或閘)

*   **定義**：XNOR 閘是 XOR 閘的非（NOT）形式。它的輸出在兩個輸入相同時為 '1'，即同為 '0' 或同為 '1' 時。如果兩個輸入不相同，則輸出為 '0'。
*   **邏輯符號**：與 XOR 閘符號相同，但在輸出端加上一個小圓圈（反相泡）。
*   **布林表達式**：$Q = \overline{A \oplus B}$ 或 $Q = AB + \bar{A}\bar{B}$
*   **真值表**：

| A | B | Q |
|---|---|---|
| 0 | 0 | 1 |
| 0 | 1 | 0 |
| 1 | 0 | 0 |
| 1 | 1 | 1 |

-----

### 2. 典型例子與轉換/推導

#### 2.1 組合邏輯閘實現複雜功能

基本邏輯閘可以互相組合，以實現更複雜的邏輯功能。這是數位電路設計的基礎。

**例子：使用 AND, OR, NOT 閘實現 XOR 閘**

我們知道 XOR 閘的布林表達式為 $Q = A\bar{B} + \bar{A}B$。我們可以將這個表達式轉換為一個電路圖：

1.  **項 $A\bar{B}$**：需要一個 NOT 閘將 B 反相成 $\bar{B}$，然後用一個 AND 閘將 A 和 $\bar{B}$ 組合。
2.  **項 $\bar{A}B$**：需要一個 NOT 閘將 A 反相成 $\bar{A}$，然後用一個 AND 閘將 $\bar{A}$ 和 B 組合。
3.  **組合兩項**：最後，用一個 OR 閘將 $A\bar{B}$ 和 $\bar{A}B$ 的結果組合起來。

**電路示意描述**：
此電路會包含兩個 NOT 閘、兩個 AND 閘和一個 OR 閘。
*   輸入 A 連接到第一個 NOT 閘（輸出 $\bar{A}$）和第一個 AND 閘的一個輸入。
*   輸入 B 連接到第二個 NOT 閘（輸出 $\bar{B}$）和第二個 AND 閘的一個輸入。
*   第一個 AND 閘的輸入是 A 和來自第二個 NOT 閘的 $\bar{B}$。
*   第二個 AND 閘的輸入是來自第一個 NOT 閘的 $\bar{A}$ 和 B。
*   一個 OR 閘的兩個輸入分別來自兩個 AND 閘的輸出。
*   OR 閘的輸出即為最終的 XOR 輸出 Q。

#### 2.2 德摩根定律 (De Morgan's Laws)

德摩根定律是布林代數中非常重要的規則，它們揭示了 AND, OR, NOT 之間的深刻關係，特別是 NAND 和 NOR 閘的通用性。

*   **定律一**：一個 AND 運算的非（NAND）等價於將每個輸入取反後再進行 OR 運算。
    $$ \overline{A \cdot B} = \bar{A} + \bar{B} $$
    這表示一個 NAND 閘的功能可以由一個 OR 閘與兩個輸入端的反相器實現。

*   **定律二**：一個 OR 運算的非（NOR）等價於將每個輸入取反後再進行 AND 運算。
    $$ \overline{A + B} = \bar{A} \cdot \bar{B} $$
    這表示一個 NOR 閘的功能可以由一個 AND 閘與兩個輸入端的反相器實現。

德摩根定律對於簡化邏輯表達式和理解邏輯閘的互換性至關重要。

-----

### 3. 與相鄰概念的關聯

#### 3.1 與布林代數的關係

邏輯閘是布林代數的物理實現。每個邏輯閘都直接對應著布林代數中的一種基本運算符號。
*   AND 閘 $\leftrightarrow$ 布林乘法 ($\cdot$)
*   OR 閘 $\leftrightarrow$ 布林加法 ($+$)
*   NOT 閘 $\leftrightarrow$ 布林反相 ($-$, $'$, 或 $\bar{}$)

布林代數提供了一套數學工具，用於分析、簡化和設計由邏輯閘組成的數位電路。當我們在紙上操作布林表達式時，我們實際上是在設計或分析一個由邏輯閘構成的電路。

#### 3.2 與數位電路設計的關係

邏輯閘是數位電路設計的基本磚塊。
*   **組合邏輯電路**：由邏輯閘直接互連，其輸出僅取決於當前的輸入狀態。本章介紹的閘主要用於構建組合邏輯。
*   **序向邏輯電路**：除了邏輯閘外，還包含儲存單元（如正反器），其輸出不僅取決於當前輸入，還取決於過去的輸入序列（即電路狀態）。邏輯閘是構建這些儲存單元和其他時序邏輯組件的基礎。

從微處理器中的算術邏輯單元 (ALU) 到記憶體控制器，所有的數位功能最終都可分解為由邏輯閘實現的基本布林運算。

#### 3.3 通用邏輯閘 (Universal Gates)

NAND 閘和 NOR 閘被稱為「通用邏輯閘」，因為僅使用一種這類型的閘，就可以實現所有其他基本的邏輯閘功能（AND, OR, NOT, XOR, XNOR）。這在實際電路設計中非常有用，因為使用單一種類的閘可以簡化庫管理和製造流程。

**例子：使用 NAND 閘實現 NOT 閘**
如果 NAND 閘的兩個輸入都連接到同一個輸入 A，則其輸出為 $\overline{A \cdot A} = \overline{A}$。
所以，一個兩輸入的 NAND 閘，只要將兩個輸入短接，就可以作為一個 NOT 閘使用。

-----

### 4. 常見錯誤與澄清

1.  **混淆 XOR 閘和 OR 閘**：
    *   **錯誤**：認為 XOR 和 OR 是一樣的。
    *   **澄清**：OR 閘的輸出在任一輸入為 '1' 時為 '1'，包括兩個輸入都為 '1' 的情況。XOR 閘的輸出只在輸入不同時為 '1'。當兩個輸入都為 '1' 時，OR 輸出 '1'，XOR 輸出 '0'。記住 XOR 代表 "互斥或" (Exclusive OR)，意思是「A 或 B，但不能同時是 A 和 B」。

2.  **NOT 閘的輸入數量**：
    *   **錯誤**：繪製或思考 NOT 閘時給予其兩個或多個輸入。
    *   **澄清**：NOT 閘永遠只有一個輸入和一個輸出。它是一個反相器，將單一輸入的邏輯狀態反轉。

3.  **布林運算子與算術運算子**：
    *   **錯誤**：將布林加法 ($+$) 和乘法 ($\cdot$) 等同於十進制算術加法和乘法。
    *   **澄清**：在布林代數中，$1 + 1 = 1$（因為只要任一為真即為真），而不是 $2$。類似地，$1 \cdot 0 = 0$。布林運算處理的是邏輯值，而非數值大小。

4.  **真值表填寫錯誤**：
    *   **錯誤**：忘記列出所有可能的輸入組合，或計算輸出時出錯。
    *   **澄清**：對於 $n$ 個輸入的邏輯閘，總共有 $2^n$ 種可能的輸入組合。務必系統性地列出所有組合（例如，從 000... 到 111... 的二進制計數），並仔細根據閘的定義計算每個組合的輸出。

-----

### 5. 小練習 (附詳解)

#### 小練習一：電路分析與真值表

給定以下由基本邏輯閘組成的電路圖（為方便起見，我們將其描述如下：輸入 A 和 B 連接到一個 NAND 閘，其輸出連接到一個 NOT 閘，然後輸出 Q。），請：
1.  寫出整個電路的布林表達式。
2.  繪製其真值表。
3.  判斷這個組合電路的功能等同於哪一個基本邏輯閘？

**電路描述**：
*   閘 1：NAND 閘，輸入為 A, B。輸出為 $X_1$。
*   閘 2：NOT 閘，輸入為 $X_1$。輸出為 Q。

**詳解**：

1.  **寫出布林表達式**：
    *   NAND 閘 $X_1$ 的輸出為 $X_1 = \overline{A \cdot B}$。
    *   NOT 閘 Q 的輸出為 $Q = \overline{X_1}$。
    *   將 $X_1$ 代入 Q 的表達式：$Q = \overline{(\overline{A \cdot B})}$。
    *   根據布林代數中的雙重否定律 ($\overline{\bar{X}} = X$)，我們可以簡化為 $Q = A \cdot B$。

2.  **繪製真值表**：

| A | B | $X_1 = \overline{A \cdot B}$ | $Q = \overline{X_1}$ |
|---|---|-----------------------|------------------|
| 0 | 0 | 1                     | 0                |
| 0 | 1 | 1                     | 0                |
| 1 | 0 | 1                     | 0                |
| 1 | 1 | 0                     | 1                |

3.  **判斷等同功能**：
    *   觀察最終輸出 Q 的真值表，它的行為與 AND 閘完全一致。
    *   因此，這個組合電路的功能等同於一個 AND 閘。

#### 小練習二：通用閘實現

使用 NAND 閘（只能用 NAND 閘）實現一個 OR 閘。

**詳解**：

1.  **理解 OR 閘的布林表達式**：$Q = A + B$。

2.  **利用德摩根定律進行轉換**：
    *   我們知道 $\overline{A \cdot B} = \bar{A} + \bar{B}$。
    *   如果我們將 A 和 B 取反，再應用這個定律，我們會得到：
        $\overline{\bar{A} \cdot \bar{B}} = \overline{\bar{A}} + \overline{\bar{B}} = A + B$。
    *   因此，OR 閘的表達式 $A+B$ 可以被寫成 $\overline{\bar{A} \cdot \bar{B}}$。

3.  **使用 NAND 閘實現各部分**：
    *   **實現 $\bar{A}$**：將一個 NAND 閘的兩個輸入都連接到 A。輸出為 $\overline{A \cdot A} = \bar{A}$。
    *   **實現 $\bar{B}$**：將另一個 NAND 閘的兩個輸入都連接到 B。輸出為 $\overline{B \cdot B} = \bar{B}$。
    *   **實現 $\overline{(\text{something} \cdot \text{something})}$**：用第三個 NAND 閘將 $\bar{A}$（來自第一個 NAND 閘的輸出）和 $\bar{B}$（來自第二個 NAND 閘的輸出）作為輸入。其輸出為 $\overline{\bar{A} \cdot \bar{B}}$。

4.  **組合電路**：
    *   第一個 NAND 閘（輸入 A, A）輸出 $\bar{A}$。
    *   第二個 NAND 閘（輸入 B, B）輸出 $\bar{B}$。
    *   第三個 NAND 閘（輸入第一個 NAND 輸出，第二個 NAND 輸出）輸出 $Q = \overline{\bar{A} \cdot \bar{B}} = A + B$。

5.  **結論**：使用三個 NAND 閘可以實現一個 OR 閘。

-----

### 6. 延伸閱讀/參考

*   **數位邏輯設計 (Digital Logic Design) 教科書**：
    *   *Digital Design* by M. Morris Mano and Michael D. Ciletti (經典教材，涵蓋基礎到進階數位邏輯設計)
    *   *Logic and Computer Design Fundamentals* by M. Morris Mano and Charles R. Kime (另一本優秀教材，更側重於電腦設計)
*   **布林代數 (Boolean Algebra)**：深入了解布林代數的公理、定理及其在邏輯簡化中的應用。
*   **積體電路 (Integrated Circuits - IC) 資料手冊**：查閱例如 74LS00 系列（TTL）或 CD4000 系列（CMOS）等標準邏輯閘 IC 的資料手冊，了解實際元件的電氣特性和引腳配置。